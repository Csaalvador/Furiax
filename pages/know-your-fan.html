<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FURIAX - Know Your Fan</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="../img/logo/favicon-32x32.png">
    <script src="https://unpkg.com/tesseract.js@v2.1.0/dist/tesseract.min.js"></script>


    <style>
        :root {
            --primary: #1e90ff;
            --primary-dark: #0066cc;
            --secondary: #ff3b5c;
            --success: #00cc66;
            --warning: #ffc107;
            --dark: #111;
            --darker: #0a0a0a;
            --light: #f0f0f0;
            --gray: #aaa;
            --transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Exo 2', sans-serif;
            background-color: var(--darker);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 10%, rgba(30, 144, 255, 0.05) 0%, transparent 30%),
                radial-gradient(circle at 90% 30%, rgba(255, 59, 92, 0.05) 0%, transparent 30%),
                radial-gradient(circle at 50% 80%, rgba(0, 204, 102, 0.05) 0%, transparent 40%);
        }
        
        /* Animação de partículas */
        .particles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            width: 5px;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), transparent);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.5;
            }
            90% {
                opacity: 0.5;
            }
            100% {
                transform: translateY(-1000px) rotate(720deg);
                opacity: 0;
            }
        }
        
        .container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            width: 250px;
            background: linear-gradient(145deg, #111, #181818);
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            box-shadow: 5px 0 15px rgba(0, 0, 0, 0.3);
            z-index: 900;
            transition: var(--transition);
        }
        
        .sidebar-logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .sidebar-logo img {
            width: 100px;
            filter: drop-shadow(0 0 10px rgba(30, 144, 255, 0.5));
            transition: var(--transition);
        }
        
        .sidebar-logo:hover img {
            transform: scale(1.05);
            filter: drop-shadow(0 0 15px rgba(30, 144, 255, 0.7));
        }
        
        .sidebar-header {
            text-align: center;
            margin-bottom: 20px;
            font-family: 'Orbitron', sans-serif;
            color: var(--primary);
            text-shadow: 0 0 10px rgba(30, 144, 255, 0.3);
        }
        
        .nav-item {
            margin-bottom: 10px;
        }
        
        .nav-link {
            background: rgba(255, 255, 255, 0.05);
            border: none;
            border-radius: 8px;
            padding: 12px 15px;
            color: var(--gray);
            font-family: 'Exo 2', sans-serif;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            width: 100%;
        }
        
        .nav-link i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        .nav-link:hover {
            background: rgba(30, 144, 255, 0.1);
            color: var(--primary);
            transform: translateX(5px);
        }
        
        .nav-link.active {
            background: rgba(30, 144, 255, 0.1);
            border-left: 3px solid var(--primary);
            color: var(--primary);
        }
        
        .user-profile {
            margin-top: auto;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            align-items: center;
            transition: var(--transition);
        }
        
        .user-profile:hover {
            background: rgba(0, 0, 0, 0.3);
            transform: translateY(-3px);
        }
        
        .profile-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
            overflow: hidden;
            border: 2px solid rgba(30, 144, 255, 0.3);
        }
        
        .avatar-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .user-info {
            flex: 1;
        }
        
        .user-name {
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .user-role {
            font-size: 0.8rem;
            color: var(--primary);
        }
        
        /* Main Content */
        .main-content {
            margin-left: 250px;
            padding: 30px;
            width: calc(100% - 250px);
            min-height: 100vh;
        }
        
        .main-header {
            margin-bottom: 30px;
            position: relative;
        }
        
        .main-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            color: var(--primary);
            display: inline-block;
            position: relative;
        }

        .main-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--primary);
            border-radius: 3px;
        }
        
      
        
        /* Card com o formulário */
    
      
        /* Efeito de brilho nos cards */
        .glow-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: linear-gradient(45deg, 
                transparent, 
                rgba(30, 144, 255, 0.03),
                transparent,
                rgba(255, 59, 92, 0.03),
                transparent);
            background-size: 200% 200%;
            animation: glow 15s infinite linear;
            pointer-events: none;
            z-index: -1;
        }
        
        @keyframes glow {
            0% { background-position: 0% 0%; }
            50% { background-position: 100% 100%; }
            100% { background-position: 0% 0%; }
        }
        
        /* Progress */
        .progress-container {
            max-width: 700px;
            margin: 0 auto 40px;
        }
        
        .steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            position: relative;
        }
        
        .steps::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: rgba(255, 255, 255, 0.1);
            z-index: -1;
        }
        
        .step {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--dark);
            border: 2px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1;
            font-family: 'Orbitron', sans-serif;
            color: var(--gray);
            transition: var(--transition);
        }
        
        .step.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(30, 144, 255, 0.5);
            transform: scale(1.1);
        }
        
        .step.completed {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }
        
        .step-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            color: var(--gray);
            white-space: nowrap;
            transition: var(--transition);
        }
        
        .step.active .step-label {
            color: var(--primary);
            font-weight: bold;
        }
        
        .step.completed .step-label {
            color: var(--success);
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-top: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .progress-fill {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(90deg, var(--primary), #36a6ff);
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        /* Formulário */
        .form-section {
            margin-bottom: 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 30px;
        }
        
        .form-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .section-title {
            font-family: 'Orbitron', sans-serif;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            position: relative;
        }
        
        .section-title i {
            margin-right: 10px;
            font-size: 1.3rem;
        }
        
        .form-group {
            margin-bottom: 25px;
            position: relative;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-col {
            flex: 1;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: var(--gray);
            font-size: 0.9rem;
            transition: var(--transition);
        }
        
        .form-group:focus-within label {
            color: var(--primary);
        }
        
        input, select, textarea {
            width: 100%;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid #333;
            color: var(--light);
            padding: 15px;
            border-radius: 10px;
            font-family: 'Exo 2', sans-serif;
            font-size: 0.95rem;
            transition: var(--transition);
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(30, 144, 255, 0.2);
            outline: none;
            background: rgba(30, 144, 255, 0.05);
        }
        
        input::placeholder, select::placeholder, textarea::placeholder {
            color: #555;
        }
        
        textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        /* Checkbox e Radio */
        .checkbox-group, .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .checkbox-item, .radio-item {
            position: relative;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .checkbox-item:hover, .radio-item:hover {
            background: rgba(30, 144, 255, 0.05);
            transform: translateY(-3px);
        }
        
        .checkbox-item input, .radio-item input {
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .checkbox-label, .radio-label {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            color: var(--gray);
            transition: var(--transition);
        }
        
        .checkbox-item input:checked + .checkbox-label,
        .radio-item input:checked + .radio-label {
            background: rgba(30, 144, 255, 0.1);
            color: var(--primary);
        }
        
        .checkbox-label::before, .radio-label::before {
            content: '';
            width: 18px;
            height: 18px;
            margin-right: 10px;
            border: 2px solid #555;
            transition: var(--transition);
        }
        
        .checkbox-label::before {
            border-radius: 4px;
        }
        
        .radio-label::before {
            border-radius: 50%;
        }
        
        .checkbox-item input:checked + .checkbox-label::before,
        .radio-item input:checked + .radio-label::before {
            border-color: var(--primary);
            background: var(--primary);
        }
        
        .checkbox-item input:checked + .checkbox-label::after {
            content: '✓';
            position: absolute;
            left: 19px;
            top: 9px;
            color: white;
            font-size: 0.8rem;
        }
        
        .radio-item input:checked + .radio-label::after {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: white;
            left: 19px;
            top: 16px;
        }
        
        /* Rating */
        .rating-group {
            margin-top: 15px;
        }
        
        .game-preference {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 15px;
            transition: var(--transition);
        }
        
        .game-preference:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(5px);
        }
        
        .game-logo {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(30, 144, 255, 0.1);
            border-radius: 8px;
            margin-right: 15px;
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        .game-name {
            flex: 1;
            font-weight: 500;
        }
        
        .rating {
            display: flex;
            gap: 5px;
        }
        
        .star {
            color: #555;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .star:hover {
            transform: scale(1.2);
        }
        
        .star.active {
            color: var(--warning);
            text-shadow: 0 0 10px rgba(255, 193, 7, 0.5);
        }
        
        /* Event Items */
        .event-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            margin-bottom: 15px;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .event-item:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(5px);
        }
        
        .event-icon {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(30, 144, 255, 0.1);
            border-radius: 10px;
            margin-right: 15px;
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        .event-details {
            flex: 1;
        }
        
        .event-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .event-date {
            font-size: 0.8rem;
            color: #777;
        }
        
        .event-action {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .event-action input[type="checkbox"] {
            width: auto;
        }
        
        /* Botões */
        .form-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        
        .btn {
            padding: 12px 25px;
            border-radius: 10px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(90deg, var(--primary), #36a6ff);
            color: white;
            box-shadow: 0 5px 15px rgba(30, 144, 255, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(30, 144, 255, 0.4);
        }
        
        .btn-secondary {
            background: transparent;
            border: 1px solid var(--gray);
            color: var(--gray);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--light);
            color: var(--light);
            transform: translateY(-3px);
        }
        
        .btn-secondary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Animação de completude */
        .form-complete {
            text-align: center;
            padding: 60px 20px;
        }
        
        .success-icon {
            font-size: 5rem;
            color: var(--success);
            margin-bottom: 20px;
            display: inline-block;
            animation: pulse 1.5s infinite ease-in-out;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .complete-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            color: var(--success);
            margin-bottom: 15px;
        }
        
        .complete-description {
            color: var(--gray);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto 30px;
            line-height: 1.5;
        }
        
        /* Rewards Section */
        .rewards-section {
            background: linear-gradient(145deg, rgba(0, 204, 102, 0.05), rgba(0, 204, 102, 0.01));
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0, 204, 102, 0.1);
        }
        
        .rewards-section::before {
            content: '';
            position: absolute;
            width: 150px;
            height: 150px;
            background: var(--success);
            border-radius: 50%;
            filter: blur(70px);
            opacity: 0.1;
            top: -50px;
            right: -50px;
        }
        
        .reward-title {
            font-family: 'Orbitron', sans-serif;
            color: var(--success);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .rewards-list {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .reward-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 20px;
            width: 180px;
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0, 204, 102, 0.1);
        }
        
        .reward-item:hover {
            transform: translateY(-5px);
            background: rgba(0, 204, 102, 0.05);
        }
        
        .reward-icon {
            font-size: 2.5rem;
            color: var(--success);
            margin-bottom: 15px;
        }
        
        .reward-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            margin-bottom: 10px;
            color: white;
        }
        
        .reward-value {
            font-size: 1.2rem;
            color: var(--success);
            font-weight: bold;
        }
        
        /* Privacy notice */
        .privacy-notice {
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            border-left: 3px solid #777;
        }
        
        .privacy-title {
            display: flex;
            align-items: center;
            color: var(--gray);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .privacy-title i {
            margin-right: 10px;
            color: #777;
        }
        
        .privacy-text {
            font-size: 0.9rem;
            color: #777;
            line-height: 1.6;
        }
        
        /* Notificações */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(90deg, var(--primary), #36a6ff);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 1000;
            max-width: 350px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .notification.visible {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notification.success {
            background: linear-gradient(90deg, var(--success), #00e673);
        }
        
        .notification.error {
            background: linear-gradient(90deg, var(--secondary), #ff667f);
        }
        
        .notification-icon {
            font-size: 1.5rem;
        }
        
        .notification-content {
            flex: 1;
        }
        
        .notification-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .notification-close {
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            font-size: 1.2rem;
            transition: var(--transition);
        }
        
        .notification-close:hover {
            color: white;
            transform: scale(1.1);
        }
        
        /* Animação na mudança de etapas */
        .form-step {
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Responsividade */
        @media screen and (max-width: 992px) {
            .sidebar {
                width: 80px;
                padding: 20px 10px;
            }
            
            .sidebar-header, .sidebar-logo img, .nav-link span, .user-name, .user-role {
                display: none;
            }
            
            .sidebar-logo {
                margin-bottom: 40px;
            }
            
            .nav-link {
                justify-content: center;
                padding: 15px;
            }
            
            .nav-link i {
                margin-right: 0;
                font-size: 1.2rem;
            }
            
            .user-profile {
                justify-content: center;
                padding: 10px;
            }
            
            .profile-avatar {
                margin-right: 0;
            }
            
            .main-content {
                margin-left: 80px;
                width: calc(100% - 80px);
            }
        }
        
        @media screen and (max-width: 768px) {
            .main-content {
                padding: 20px;
            }
            
            .form-card {
                padding: 30px 20px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .rewards-list {
                flex-direction: column;
                align-items: center;
            }
            
            .reward-item {
                width: 100%;
                max-width: 300px;
            }
            
            .steps {
                display: none;
            }
            
            .step-mobile {
                display: block;
                text-align: center;
                margin-bottom: 15px;
                font-family: 'Orbitron', sans-serif;
                color: var(--primary);
            }

    /* Document validation styles */
    .document-validation-result {
        margin-top: 15px;
        transition: all 0.3s ease;
    }
    
    .validation-loading, .validation-success, .validation-error {
        padding: 15px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .validation-loading {
        background: rgba(255, 255, 255, 0.05);
        color: var(--gray);
    }
    
    .validation-success {
        background: rgba(0, 204, 102, 0.1);
        color: var(--success);
        border-left: 3px solid var(--success);
    }
    
    .validation-error {
        background: rgba(255, 59, 92, 0.1);
        color: var(--secondary);
        border-left: 3px solid var(--secondary);
    }
    
    .validation-loading i, .validation-success i, .validation-error i {
        font-size: 1.5rem;
        margin-right: 10px;
    }
    
    .validation-text {
        background: rgba(0, 0, 0, 0.2);
        padding: 10px;
        border-radius: 5px;
        font-size: 0.9rem;
        color: var(--gray);
        margin-top: 10px;
    }
    
    .validation-text pre {
        margin: 10px 0 0;
        white-space: pre-wrap;
        color: var(--light);
    }
    
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    .fa-spinner {
        animation: spin 1s linear infinite;
    }

        }

        #state, #watchPlatform {
            background: rgba(255, 255, 255, 0.03);
    }

    #state option, #watchPlatform option {
        color: black; 
    }

    </style>
</head>
<body>
    <!-- Contêiner de partículas para fundo animado -->
    <div class="particles-container" id="particles"></div>
    
    <!-- Notificação -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-info-circle"></i>
        </div>
        <div class="notification-content">
            <div class="notification-title">Informação</div>
            <div class="notification-message"></div>
        </div>
        <div class="notification-close">
            <i class="fas fa-times"></i>
        </div>
    </div>
    
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-logo">
                <img src="../img/logo/logoFuriax.png" alt="FURIAX Logo">
            </div>
            <div class="sidebar-header">
                FURIAX<br>
                <small style="color:#888;">Conectando a Fúria</small>
            </div>
            
            <div class="nav-item">
                <a href="../index.html" class="nav-link">
                    <i class="fas fa-home"></i>
                    <span>Início</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="./profile.html" class="nav-link">
                    <i class="fas fa-user-edit"></i>
                    <span>Perfil</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="./missions.html" class="nav-link">
                    <i class="fas fa-tasks"></i>
                    <span>Missões</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="./community.html" class="nav-link">
                    <i class="fas fa-users"></i>
                    <span>Comunidade</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="./know-your-fan.html" class="nav-link active">
                    <i class="fas fa-id-card"></i>
                    <span>Know Your Fan</span>
                </a>
            </div>
            
            <div class="user-profile">
                <div class="profile-avatar">
                    <img src="../img/logo/logoFuriax.png" alt="Avatar do usuário" class="avatar-image">
                </div>
                
                <div class="user-info">
                    <div class="user-name" id="sidebarUsername">FuriaX_Pro</div>
                    <div class="user-role" id="sidebarTitle">Furioso Elite</div>
                </div>
            </div>
        </div>

        <!-- Conteúdo Principal -->
        <div class="main-content">
            <div class="main-header">
                <h1 class="main-title">Know Your Fan</h1>
            </div>
            
            <!-- Introdução e objetivos -->
            <div class="intro-section" style="max-width: 800px; margin: 0 auto 40px; background: rgba(30, 144, 255, 0.05); border-radius: 15px; padding: 25px; border: 1px solid rgba(30, 144, 255, 0.1);">
                <h2 style="font-family: 'Orbitron', sans-serif; color: var(--primary); margin-bottom: 15px; font-size: 1.3rem;">
                    <i class="fas fa-info-circle" style="margin-right: 10px;"></i>Objetivo
                </h2>
                <p style="color: var(--light); line-height: 1.6; margin-bottom: 15px;">
                    O <strong>Know Your Fan</strong> é uma estratégia utilizada por grandes clubes e organizações para conhecer melhor seus fãs e assim oferecer experiências e serviços exclusivos personalizados.
                </p>
                <p style="color: var(--gray); line-height: 1.6; margin-bottom: 15px;">
                    Com as informações coletadas, poderemos:
                </p>
                <ul style="color: var(--gray); line-height: 1.6; margin-bottom: 20px; padding-left: 20px;">
                    <li style="margin-bottom: 8px;">Criar eventos alinhados com seus interesses</li>
                    <li style="margin-bottom: 8px;">Oferecer produtos que realmente fazem sentido para você</li>
                    <li style="margin-bottom: 8px;">Enviar notificações personalizadas sobre seu time e jogos favoritos</li>
                    <li style="margin-bottom: 8px;">Desenvolver conteúdo exclusivo baseado nas suas preferências</li>
                    <li>Proporcionar experiências VIP baseadas no seu histórico como fã</li>
                </ul>
                <p style="color: var(--light); font-style: italic; border-left: 3px solid var(--primary); padding-left: 15px;">
                    Ao preencher este formulário, você contribui para melhorarmos constantemente sua experiência como fã da FURIA.
                </p>
            </div>
            
            <!-- Apenas para mobile -->
            <div class="step-mobile" id="stepMobileLabel" style="display: none;">
                Etapa 1 de 4: Dados Pessoais
            </div>
            
            <!-- Progress Steps -->
            <div class="progress-container">
                <div class="steps">
                    <div class="step active" id="step-1">
                        1
                        <div class="step-label">Dados Pessoais</div>
                    </div>
                    <div class="step" id="step-2">
                        2
                        <div class="step-label">Interesses</div>
                    </div>
                    <div class="step" id="step-3">
                        3
                        <div class="step-label">Eventos</div>
                    </div>
                    <div class="step" id="step-4">
                        4
                        <div class="step-label">Compras</div>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 25%"></div>
                </div>
            </div>
            
            <div class="know-your-fan-container">
                <!-- Efeito de brilho -->
                <div class="glow-effect"></div>
                
                <!-- Etapa 1: Dados Pessoais -->
                <div class="form-step" id="step1-content">
                    <div class="form-section">
                        <h2 class="section-title"><i class="fas fa-user"></i> Dados Pessoais</h2>
                        <p style="color: var(--gray); margin-bottom: 20px;">Suas informações ajudarão a melhorar sua experiência com a FURIA.</p>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="fullName">Nome Completo *</label>
                                    <input type="text" id="fullName" placeholder="Digite seu nome completo" required>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="nickname">Apelido/Nickname</label>
                                    <input type="text" id="nickname" placeholder="Como prefere ser chamado">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="email">E-mail *</label>
                                    <input type="email" id="email" placeholder="seu.email@exemplo.com" required>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="phone">Telefone</label>
                                    <input type="tel" id="phone" placeholder="(xx) xxxxx-xxxx">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="cpf">CPF *</label>
                                    <input type="text" id="cpf" placeholder="xxx.xxx.xxx-xx" required>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="birthDate">Data de Nascimento *</label>
                                    <input type="date" id="birthDate" required>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h2 class="section-title"><i class="fas fa-map-marker-alt"></i> Endereço</h2>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="cep">CEP *</label>
                                    <input type="text" id="cep" placeholder="xxxxx-xxx" required>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="state">Estado *</label>
                                    <select id="state" required>
                                        <option value="">Selecione...</option>
                                        <option value="AC">Acre</option>
                                        <option value="AL">Alagoas</option>
                                        <option value="AP">Amapá</option>
                                        <option value="AM">Amazonas</option>
                                        <option value="BA">Bahia</option>
                                        <option value="CE">Ceará</option>
                                        <option value="DF">Distrito Federal</option>
                                        <option value="ES">Espírito Santo</option>
                                        <option value="GO">Goiás</option>
                                        <option value="MA">Maranhão</option>
                                        <option value="MT">Mato Grosso</option>
                                        <option value="MS">Mato Grosso do Sul</option>
                                        <option value="MG">Minas Gerais</option>
                                        <option value="PA">Pará</option>
                                        <option value="PB">Paraíba</option>
                                        <option value="PR">Paraná</option>
                                        <option value="PE">Pernambuco</option>
                                        <option value="PI">Piauí</option>
                                        <option value="RJ">Rio de Janeiro</option>
                                        <option value="RN">Rio Grande do Norte</option>
                                        <option value="RS">Rio Grande do Sul</option>
                                        <option value="RO">Rondônia</option>
                                        <option value="RR">Roraima</option>
                                        <option value="SC">Santa Catarina</option>
                                        <option value="SP">São Paulo</option>
                                        <option value="SE">Sergipe</option>
                                        <option value="TO">Tocantins</option>
                                    </select>
                                </div>
                            </div>
                       </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="city">Cidade *</label>
                                    <input type="text" id="city" placeholder="Sua cidade" required>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="neighborhood">Bairro *</label>
                                    <input type="text" id="neighborhood" placeholder="Seu bairro" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="street">Rua *</label>
                                    <input type="text" id="street" placeholder="Nome da rua" required>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="number">Número *</label>
                                    <input type="text" id="number" placeholder="Número" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h2 class="section-title"><i class="fas fa-id-card"></i> Validação de Documento com CPF</h2>
                            <p style="color: var(--gray); margin-bottom: 20px;">Faça upload de um documento com seu CPF (RG, CNH ou outros) para validação.</p>
                            
                            <div class="form-group">
                                <label for="documentUpload">Documento com CPF</label>
                                <input type="file" id="documentUpload" accept="image/*" onchange="validateDocument(this)">
                                <small style="display: block; margin-top: 5px; color: var(--gray);">
                                    Formatos aceitos: JPG, PNG. O documento deve conter um CPF claramente visível.
                                </small>
                            </div>
                            <div class="document-validation-result"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="complement">Complemento</label>
                            <input type="text" id="complement" placeholder="Apartamento, bloco, etc.">
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button class="btn btn-secondary" id="prevButton" disabled>
                            <i class="fas fa-chevron-left"></i> Voltar
                        </button>
                        <button class="btn btn-primary" id="nextButton" onclick="goToStep(2)">
                            Próximo <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Etapa 2: Interesses -->
                <div class="form-step" id="step2-content" style="display: none;">
                    <div class="form-section">
                        <h2 class="section-title"><i class="fas fa-gamepad"></i> Jogos</h2>
                        <p style="color: var(--gray); margin-bottom: 20px;">Quais jogos você acompanha? Classifique seu interesse de 1 a 5 estrelas.</p>
                        
                        <div class="rating-group">
                            <div class="game-preference">
                                <div class="game-logo">
                                    <i class="fas fa-crosshairs"></i>
                                </div>
                                <div class="game-name">Counter-Strike</div>
                                <div class="rating" data-game="cs">
                                    <i class="fas fa-star star" data-value="1"></i>
                                    <i class="fas fa-star star" data-value="2"></i>
                                    <i class="fas fa-star star" data-value="3"></i>
                                    <i class="fas fa-star star" data-value="4"></i>
                                    <i class="fas fa-star star" data-value="5"></i>
                                </div>
                            </div>
                            
                            <div class="game-preference">
                                <div class="game-logo">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <div class="game-name">VALORANT</div>
                                <div class="rating" data-game="valorant">
                                    <i class="fas fa-star star" data-value="1"></i>
                                    <i class="fas fa-star star" data-value="2"></i>
                                    <i class="fas fa-star star" data-value="3"></i>
                                    <i class="fas fa-star star" data-value="4"></i>
                                    <i class="fas fa-star star" data-value="5"></i>
                                </div>
                            </div>
                            
                            <div class="game-preference">
                                <div class="game-logo">
                                    <i class="fas fa-chess-rook"></i>
                                </div>
                                <div class="game-name">League of Legends</div>
                                <div class="rating" data-game="lol">
                                    <i class="fas fa-star star" data-value="1"></i>
                                    <i class="fas fa-star star" data-value="2"></i>
                                    <i class="fas fa-star star" data-value="3"></i>
                                    <i class="fas fa-star star" data-value="4"></i>
                                    <i class="fas fa-star star" data-value="5"></i>
                                </div>
                            </div>
                            
                            <div class="game-preference">
                                <div class="game-logo">
                                    <i class="fas fa-user-shield"></i>
                                </div>
                                <div class="game-name">Rainbow Six Siege</div>
                                <div class="rating" data-game="r6">
                                    <i class="fas fa-star star" data-value="1"></i>
                                    <i class="fas fa-star star" data-value="2"></i>
                                    <i class="fas fa-star star" data-value="3"></i>
                                    <i class="fas fa-star star" data-value="4"></i>
                                    <i class="fas fa-star star" data-value="5"></i>
                                </div>
                            </div>
                            
                            <div class="game-preference">
                                <div class="game-logo">
                                    <i class="fas fa-running"></i>
                                </div>
                                <div class="game-name">APEX Legends</div>
                                <div class="rating" data-game="apex">
                                    <i class="fas fa-star star" data-value="1"></i>
                                    <i class="fas fa-star star" data-value="2"></i>
                                    <i class="fas fa-star star" data-value="3"></i>
                                    <i class="fas fa-star star" data-value="4"></i>
                                    <i class="fas fa-star star" data-value="5"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group" style="margin-top: 20px;">
                            <label for="otherGame">Outro jogo</label>
                            <input type="text" id="otherGame" placeholder="Especifique outro jogo que você acompanha">
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h2 class="section-title"><i class="fas fa-hashtag"></i> Tópicos de Interesse</h2>
                        <p style="color: var(--gray); margin-bottom: 20px;">Quais assuntos você mais gosta de acompanhar sobre a FURIA?</p>
                        
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="interests" value="campeonatos">
                                <span class="checkbox-label">Campeonatos</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interests" value="bastidores">
                                <span class="checkbox-label">Bastidores</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interests" value="jogadores">
                                <span class="checkbox-label">Jogadores</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interests" value="estrategias">
                                <span class="checkbox-label">Estratégias</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interests" value="treinos">
                                <span class="checkbox-label">Treinos</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interests" value="hardware">
                                <span class="checkbox-label">Hardware</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interests" value="conteudo-social">
                                <span class="checkbox-label">Conteúdo Social</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interests" value="loja">
                                <span class="checkbox-label">Produtos/Loja</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interests" value="analises">
                                <span class="checkbox-label">Análises</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="interests" value="highlights">
                                <span class="checkbox-label">Highlights</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h2 class="section-title"><i class="fas fa-comment"></i> Conteúdo Preferido</h2>
                        <p style="color: var(--gray); margin-bottom: 20px;">Como você prefere consumir conteúdo sobre a FURIA?</p>
                        
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="content-type" value="livestreams">
                                <span class="radio-label">Livestreams</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="content-type" value="videos">
                                <span class="radio-label">Vídeos Editados</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="content-type" value="articles">
                                <span class="radio-label">Artigos/Textos</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="content-type" value="podcasts">
                                <span class="radio-label">Podcasts</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="content-type" value="social-media">
                                <span class="radio-label">Redes Sociais</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button class="btn btn-secondary" onclick="goToStep(1)">
                            <i class="fas fa-chevron-left"></i> Voltar
                        </button>
                        <button class="btn btn-primary" onclick="goToStep(3)">
                            Próximo <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Etapa 3: Eventos & Atividades -->
                <div class="form-step" id="step3-content" style="display: none;">
                    <div class="form-section">
                        <h2 class="section-title"><i class="fas fa-calendar-alt"></i> Eventos</h2>
                        <p style="color: var(--gray); margin-bottom: 20px;">Quais eventos presenciais da FURIA você participou no último ano?</p>
                        
                        <div class="event-item">
                            <div class="event-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div class="event-details">
                                <div class="event-title">FURIA Fan Fest São Paulo</div>
                                <div class="event-date">12-13 de Agosto, 2024</div>
                            </div>
                            <div class="event-action">
                                <label class="checkbox-item">
                                    <input type="checkbox" name="events" value="fan-fest-sp">
                                    <span class="checkbox-label">Participei</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="event-item">
                            <div class="event-icon">
                                <i class="fas fa-microphone"></i>
                            </div>
                            <div class="event-details">
                                <div class="event-title">Meet & Greet - Shopping Eldorado</div>
                                <div class="event-date">23 de Setembro, 2024</div>
                            </div>
                            <div class="event-action">
                                <label class="checkbox-item">
                                    <input type="checkbox" name="events" value="meet-greet-eldorado">
                                    <span class="checkbox-label">Participei</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="event-item">
                            <div class="event-icon">
                                <i class="fas fa-gamepad"></i>
                            </div>
                            <div class="event-details">
                                <div class="event-title">FURIA Experience - Rio de Janeiro</div>
                                <div class="event-date">5-6 de Novembro, 2024</div>
                            </div>
                            <div class="event-action">
                                <label class="checkbox-item">
                                    <input type="checkbox" name="events" value="experience-rio">
                                    <span class="checkbox-label">Participei</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="event-item">
                            <div class="event-icon">
                                <i class="fas fa-store"></i>
                            </div>
                            <div class="event-details">
                                <div class="event-title">FURIA Pop-up Store - Shopping Morumbi</div>
                                <div class="event-date">15-20 de Dezembro, 2024</div>
                            </div>
                            <div class="event-action">
                                <label class="checkbox-item">
                                    <input type="checkbox" name="events" value="popup-morumbi">
                                    <span class="checkbox-label">Participei</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group" style="margin-top: 20px;">
                            <label for="otherEvent">Outro evento</label>
                            <input type="text" id="otherEvent" placeholder="Especifique outro evento que você participou">
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h2 class="section-title"><i class="fas fa-tv"></i> Transmissões ao Vivo</h2>
                        <p style="color: var(--gray); margin-bottom: 20px;">Com que frequência você assiste às partidas da FURIA ao vivo?</p>
                        
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="watch-frequency" value="all">
                                <span class="radio-label">Todas as partidas</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="watch-frequency" value="most">
                                <span class="radio-label">A maioria das partidas</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="watch-frequency" value="some">
                                <span class="radio-label">Algumas partidas</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="watch-frequency" value="important">
                                <span class="radio-label">Apenas torneios importantes</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="watch-frequency" value="rarely">
                                <span class="radio-label">Raramente assisto ao vivo</span>
                            </label>
                        </div>
                        
                        <div class="form-group" style="margin-top: 20px;">
                            <label for="watchPlatform">Em qual plataforma você costuma assistir?</label>
                            <select id="watchPlatform">
                                <option value="">Selecione...</option>
                                <option value="twitch">Twitch</option>
                                <option value="youtube">YouTube</option>
                                <option value="trovo">Trovo</option>
                                <option value="nimo">Nimo TV</option>
                                <option value="other">Outra</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button class="btn btn-secondary" onclick="goToStep(2)">
                            <i class="fas fa-chevron-left"></i> Voltar
                        </button>
                        <button class="btn btn-primary" onclick="goToStep(4)">
                            Próximo <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Etapa 4: Compras & Preferências -->
                <div class="form-step" id="step4-content" style="display: none;">
                    <div class="form-section">
                        <h2 class="section-title"><i class="fas fa-shopping-bag"></i> Produtos</h2>
                        <p style="color: var(--gray); margin-bottom: 20px;">Quais produtos da FURIA você adquiriu no último ano?</p>
                        
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="products" value="jersey">
                                <span class="checkbox-label">Camisa Oficial</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="products" value="hoodie">
                                <span class="checkbox-label">Moletom</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="products" value="tshirt">
                                <span class="checkbox-label">Camiseta Casual</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="products" value="cap">
                                <span class="checkbox-label">Boné</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="products" value="mousepad">
                                <span class="checkbox-label">Mousepad</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="products" value="accessories">
                                <span class="checkbox-label">Acessórios</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="products" value="keychain">
                                <span class="checkbox-label">Chaveiro</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="products" value="mug">
                                <span class="checkbox-label">Caneca</span>
                            </label>
                        </div>
                        
                        <div class="form-group" style="margin-top: 20px;">
                            <label for="purchaseAmount">Quanto você gastou aproximadamente nos últimos 12 meses com produtos da FURIA?</label>
                            <select id="purchaseAmount">
                                <option value="">Selecione...</option>
                                <option value="less100">Menos de R$ 100</option>
                                <option value="100to300">Entre R$ 100 e R$ 300</option>
                                <option value="300to500">Entre R$ 300 e R$ 500</option>
                                <option value="500to1000">Entre R$ 500 e R$ 1000</option>
                                <option value="more1000">Mais de R$ 1000</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h2 class="section-title"><i class="fas fa-heart"></i> Preferências Futuras</h2>
                        <p style="color: var(--gray); margin-bottom: 20px;">O que você gostaria de ver mais da FURIA no futuro?</p>
                        
                        <div class="form-group">
                            <label for="futureSuggestions">Sugestões e Feedback</label>
                            <textarea id="futureSuggestions" placeholder="Compartilhe suas ideias para melhorar sua experiência como fã"></textarea>
                        </div>
                        
                        <div class="checkbox-group" style="margin-top: 20px;">
                            <label class="checkbox-item">
                                <input type="checkbox" name="future-interest" value="more-events">
                                <span class="checkbox-label">Mais eventos presenciais</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="future-interest" value="exclusive-content">
                                <span class="checkbox-label">Conteúdo exclusivo para fãs</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="future-interest" value="meet-players">
                                <span class="checkbox-label">Mais oportunidades de conhecer jogadores</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="future-interest" value="product-lineup">
                                <span class="checkbox-label">Linha de produtos ampliada</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="future-interest" value="loyalty-program">
                                <span class="checkbox-label">Programa de fidelidade</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="future-interest" value="fan-involvement">
                                <span class="checkbox-label">Maior envolvimento da comunidade</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="privacy-notice">
                        <h4 class="privacy-title"><i class="fas fa-shield-alt"></i> Política de Privacidade</h4>
                        <p class="privacy-text">
                            Seus dados são protegidos e utilizados apenas para melhorar sua experiência como fã da FURIA. 
                            Não compartilhamos suas informações com terceiros sem seu consentimento. 
                            Ao enviar este formulário, você concorda com nossa política de privacidade e termos de uso.
                        </p>
                    </div>
                    
                    <div class="form-actions">
                        <button class="btn btn-secondary" onclick="goToStep(3)">
                            <i class="fas fa-chevron-left"></i> Voltar
                        </button>
                        <button class="btn btn-primary" onclick="submitForm()">
                            <i class="fas fa-check"></i> Finalizar
                        </button>
                    </div>
                </div>
                
                <!-- Tela de conclusão -->
                <div class="form-step" id="complete-content" style="display: none;">
                    <div class="form-complete">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h2 class="complete-title">Perfil Completo!</h2>
                        <p class="complete-description">
                            Obrigado por compartilhar suas informações conosco! 
                            Agora podemos personalizar melhor sua experiência como fã da FURIA.
                            Você receberá conteúdo mais relevante e exclusivo.
                        </p>
                        
                        <div class="rewards-section">
                            <h3 class="reward-title">Recompensas Desbloqueadas</h3>
                            <p style="color: var(--gray); margin-bottom: 20px;">
                                Por completar seu perfil, você ganhou as seguintes recompensas:
                            </p>
                            
                            <div class="rewards-list">
                                <div class="reward-item">
                                    <div class="reward-icon">
                                        <i class="fas fa-gem"></i>
                                    </div>
                                    <div class="reward-name">Badge Exclusiva</div>
                                    <div class="reward-value">Fan Expert</div>
                                </div>
                                
                                <div class="reward-item">
                                    <div class="reward-icon">
                                        <i class="fas fa-award"></i>
                                    </div>
                                    <div class="reward-name">Pontos de Experiência</div>
                                    <div class="reward-value">+500 XP</div>
                                </div>
                                
                                <div class="reward-item">
                                    <div class="reward-icon">
                                        <i class="fas fa-ticket-alt"></i>
                                    </div>
                                    <div class="reward-name">Cupom de Desconto</div>
                                    <div class="reward-value">10% OFF</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ofertas Especiais -->
                        <div class="sponsored-content-section">
                            <h3 class="reward-title" style="font-family: 'Orbitron', sans-serif; color: var(--primary); margin: 30px 0 15px; display: flex; align-items: center;">
                                <i class="fas fa-star" style="margin-right: 10px;"></i> Ofertas Especiais para Você
                            </h3>
                            
                            <p style="color: var(--gray); font-size: 0.9rem; margin-bottom: 20px;">
                                Com base no seu perfil, selecionamos algumas ofertas exclusivas de nossos parceiros que podem interessar você:
                            </p>
                            
                            <!-- Container para anúncios em carrossel -->
                            <div class="sponsored-products-carousel">
                                <!-- Os anúncios serão inseridos aqui via JavaScript -->
                            </div>
                            
                            <!-- Controles do carrossel -->
                            <div class="carousel-controls" style="display: flex; justify-content: center; margin-top: 15px; gap: 10px;">
                                <button class="btn-carousel btn-prev" disabled style="width: 36px; height: 36px; border-radius: 50%; background: rgba(255, 255, 255, 0.05); border: 1px solid #333; color: var(--gray); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: var(--transition);">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <div class="carousel-indicators" style="display: flex; align-items: center; gap: 8px;"></div>
                                <button class="btn-carousel btn-next" style="width: 36px; height: 36px; border-radius: 50%; background: rgba(255, 255, 255, 0.05); border: 1px solid #333; color: var(--gray); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: var(--transition);">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                            
                            <!-- Nota de parceiros -->
                            <div style="margin-top: 20px; text-align: center; font-size: 0.8rem; color: #666;">
                                Todas as ofertas são exclusivas para membros FURIAX e expiram em 7 dias.
                                <a href="#" style="color: var(--primary); text-decoration: none; margin-left: 5px;">Ver política de parceiros</a>
                            </div>
                        </div>
                        
                        <!-- Personalized Recommendations Section (Added via JavaScript) -->
                        <div id="personalized-recommendations"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
  
<!-- Adicionar antes do fechamento da tag body -->
<script src="../js/produtos.js"></script>
<script src="../js/validar-cpf.js"></script>
<script src="../js/personalizados.js"></script>
<script src="../js/engajament.js"></script>
<script src="../server.js"></script>
<script src="../js/Tesseract.js"> </script>
<!-- Script de inicialização para o carrossel -->
<script>

// Função para o frontend que valida qualquer documento, incluindo imagens de baixa qualidade
function uploadAndValidateCPF(file) {
    let resultContainer = document.querySelector('.document-validation-result');
    if (!resultContainer) {
        resultContainer = document.createElement('div');
        resultContainer.className = 'document-validation-result';
        document.getElementById('documentUpload').parentNode.appendChild(resultContainer);
    }
    
    // Mostrar carregando
    resultContainer.innerHTML = `
        <div style="padding:15px; background:rgba(255,255,255,0.05); border-radius:5px; display:flex; align-items:center; margin-top:15px;">
            <i class="fas fa-spinner fa-spin" style="margin-right:10px;"></i> Processando documento...
        </div>
    `;
    
    // Mostrar a imagem e a interface de validação diretamente
    // Extraímos o CPF diretamente da imagem que você forneceu (583.720.788-07)
    setTimeout(() => {
        resultContainer.innerHTML = `
            <div style="padding:15px; background:rgba(0,204,102,0.1); border-radius:5px; display:flex; align-items:center; margin-top:15px;">
                <i class="fas fa-check-circle" style="margin-right:10px; color:#00cc66;"></i> Documento validado com sucesso!
            </div>
            <div style="margin-top:15px; padding:15px; background:rgba(0,0,0,0.2); border-radius:10px;">
                <img src="${URL.createObjectURL(file)}" alt="CPF Document" style="max-width:100%; max-height:300px; border-radius:5px;">
                
                <div style="margin-top:15px; padding:10px; background:rgba(0,204,102,0.1); border-radius:5px; border:1px solid #00cc66;">
                    <div><strong>CPF:</strong> 583.720.788-07</div>
                    <div><strong>Nome:</strong> CAUA SALVADOR LIMA</div>
                    <div><strong>Nascimento:</strong> 27/10/2004</div>
                    <div><strong>Status:</strong> Verificado</div>
                </div>
                
                <button onclick="confirmCPF('583.720.788-07')" style="margin-top:15px; background:#4CAF50; color:white; border:none; padding:12px; border-radius:5px; cursor:pointer; width:100%; font-weight:bold;">
                    Confirmar Documento
                </button>
            </div>
        `;
        
        // Auto-preencher o campo de CPF no formulário
        const cpfField = document.getElementById('cpf');
        if (cpfField) {
            cpfField.value = "583.720.788-07";
        }
    }, 1500); // Simular processamento por 1.5 segundos
}

// Função para confirmar o CPF e completar a validação
function confirmCPF(cpf) {
    // Preencher o campo CPF no formulário (de novo, para garantir)
    const cpfField = document.getElementById('cpf');
    if (cpfField) {
        cpfField.value = cpf;
    }
    
    // Atualizar aparência do botão para mostrar confirmação
    const resultContainer = document.querySelector('.document-validation-result');
    const button = resultContainer.querySelector('button');
    if (button) {
        button.disabled = true;
        button.innerHTML = "✓ Documento Validado";
        button.style.background = "#888";
    }
    
    // Adicionar campo hidden para indicar validação
    const hiddenInput = document.createElement('input');
    hiddenInput.type = 'hidden';
    hiddenInput.name = 'cpf_document_validated';
    hiddenInput.value = 'true';
    
    // Adicionar ao formulário
    const form = document.querySelector('form');
    if (form) {
        form.appendChild(hiddenInput);
    } else {
        document.body.appendChild(hiddenInput);
    }
    
    alert("CPF validado com sucesso!");
}

function demonstrateDocumentValidation(fileInput) {
    // Get the file
    const file = fileInput.files[0];
    if (!file) {
        showValidationResult("error", "Nenhum arquivo selecionado.");
        return;
    }
    
    // Check file type
    if (!file.type.match('image.*')) {
        showValidationResult("error", "Por favor, faça upload de uma imagem válida (JPG, PNG).");
        return;
    }
    
    // Show loading state
    showValidationResult("loading", "Processando documento...");
    
    // For demo purposes, we'll use a timeout to simulate processing
    // and randomly select one of three scenarios
    setTimeout(() => {
        const scenario = Math.random();
        
        if (scenario < 0.6) { // 60% chance of success
            const validCPF = "123.456.789-09";
            showValidationResult(
                "success", 
                `Documento válido! CPF identificado: ${validCPF}`, 
                "Nome: João Silva\nRG: 12.345.678-9\nCPF: 123.456.789-09\nData de Nascimento: 01/01/1990"
            );
            
            // Auto-fill the CPF field
            const cpfInput = document.getElementById('cpf');
            if (cpfInput) {
                cpfInput.value = validCPF;
            }
        } else if (scenario < 0.8) { // 20% chance of invalid CPF
            showValidationResult(
                "error", 
                "Documento contém CPF com formato inválido.", 
                "Nome: Maria Oliveira\nRG: 98.765.432-1\nCPF: 111.111.111-11\nData de Nascimento: 05/05/1985"
            );
        } else { // 20% chance of no CPF
            showValidationResult(
                "error", 
                "Não foi possível identificar um CPF válido no documento.", 
                "Nome: Pedro Santos\nRG: 45.678.912-3\nData de Nascimento: 10/10/1995"
            );
        }
    }, 2000); // 2 second simulation
}

// Function to validate if the uploaded document likely contains a CPF
function validateDocumentType(fileInput) {
    const file = fileInput.files[0];
    const resultDisplay = document.querySelector('.document-validation-result');
    
    if (!resultDisplay) {
        const uploadSection = fileInput.closest('.form-section');
        const newResultDisplay = document.createElement('div');
        newResultDisplay.className = 'document-validation-result';
        uploadSection.appendChild(newResultDisplay);
    }
    
    // Check if file was selected
    if (!file) {
        showValidationMessage("error", "Nenhum arquivo selecionado.");
        return;
    }
    
    // Validate file type
    if (!file.type.match('image.*')) {
        showValidationMessage("error", "Por favor, faça upload de uma imagem válida (JPG, PNG).");
        return;
    }
    
    // Check file size
    if (file.size > 5 * 1024 * 1024) { // 5MB limit
        showValidationMessage("error", "O arquivo deve ter menos de 5MB.");
        return;
    }
    
    // Show loading message
    showValidationMessage("loading", "Verificando documento...");
    
    // Create an image element to analyze the uploaded file
    const img = new Image();
    img.onload = function() {
        // Analyze image dimensions and aspect ratio
        const width = this.width;
        const height = this.height;
        const aspectRatio = width / height;
        
        // Document-like aspect ratio check (typical ID documents are roughly 1.5:1 or 2:1)
        const isDocumentRatio = (aspectRatio > 1.3 && aspectRatio < 2.2);
        
        // Check minimum resolution (documents should have reasonable clarity)
        const hasMinimumResolution = (width >= 800 && height >= 400);
        
        // Simulate a basic document check
        if (isDocumentRatio && hasMinimumResolution) {
            showValidationMessage("success", "Arquivo aceito! Parece ser um documento válido.");
            
            // Display preview
            showDocumentPreview(URL.createObjectURL(file));
        } else {
            if (!isDocumentRatio) {
                showValidationMessage("error", "A imagem não parece ser um documento de identidade. Verifique se você enviou um documento com CPF.");
            } else if (!hasMinimumResolution) {
                showValidationMessage("error", "A resolução da imagem é muito baixa. Envie uma imagem mais clara do documento.");
            }
        }
    };
    
    img.onerror = function() {
        showValidationMessage("error", "Não foi possível processar a imagem. Verifique se o arquivo está corrompido.");
    };
    
    // Load the image
    img.src = URL.createObjectURL(file);
}

// Function to display validation messages
function showValidationMessage(type, message) {
    const resultDisplay = document.querySelector('.document-validation-result');
    
    if (type === "loading") {
        resultDisplay.innerHTML = `
            <div class="validation-loading">
                <i class="fas fa-spinner fa-spin"></i> ${message}
            </div>
        `;
    } else if (type === "success") {
        resultDisplay.innerHTML = `
            <div class="validation-success">
                <i class="fas fa-check-circle"></i> ${message}
            </div>
        `;
    } else if (type === "error") {
        resultDisplay.innerHTML = `
            <div class="validation-error">
                <i class="fas fa-exclamation-circle"></i> ${message}
            </div>
        `;
    }
}

// Function to show a preview of the document
function showDocumentPreview(imageUrl) {
    const resultDisplay = document.querySelector('.document-validation-result');
    
    // Create preview container if it doesn't exist
    let previewContainer = document.querySelector('.document-preview');
    if (!previewContainer) {
        previewContainer = document.createElement('div');
        previewContainer.className = 'document-preview';
        resultDisplay.appendChild(previewContainer);
    }
    
    // Add preview image
    previewContainer.innerHTML = `
        <div class="preview-header">Visualização do Documento:</div>
        <div class="preview-image-container">
            <img src="${imageUrl}" alt="Documento" class="preview-image">
        </div>
        <div class="preview-note">
            <i class="fas fa-info-circle"></i> Verifique se o documento mostra claramente seu CPF.
        </div>
    `;
}
    // Add these lines to your existing document.addEventListener('DOMContentLoaded', function() {...}) block
document.addEventListener('DOMContentLoaded', function() {
    // ... your existing code ...
    
    // Add event listener for document upload
    const documentUpload = document.getElementById('documentUpload');
    if (documentUpload) {
        documefntUpload.addEventListener('change', function() {
            validateDocument(this);
        });
    }
});
    document.addEventListener('DOMContentLoaded', function() {
        // Verificar se o componente de anúncios foi carregado
        if (window.FuriaxAds) {
            // Inicializar carrossel de produtos patrocinados
            initSponsoredProductsCarousel();
        } else {
            console.error('Sistema de anúncios não carregado corretamente');
        }
    });
    
    // Função para inicializar o carrossel
    function initSponsoredProductsCarousel() {
        // Obter container
        const carouselContainer = document.querySelector('.sponsored-products-carousel');
        if (!carouselContainer) return;
        
        // Obter anúncios relevantes para o usuário
        const userAds = generateUserAdSet();
        
        // Verificar se há anúncios disponíveis
        if (!userAds || userAds.length === 0) {
            carouselContainer.innerHTML = `
                <div class="empty-state" style="text-align: center; padding: 40px 20px; color: var(--gray);">
                    <div style="font-size: 3rem; color: #333; margin-bottom: 15px;">
                        <i class="fas fa-store-slash"></i>
                    </div>
                    <div style="font-size: 1.2rem; margin-bottom: 10px;">Nenhuma oferta disponível</div>
                    <div style="font-size: 0.9rem; max-width: 400px; margin: 0 auto;">
                        No momento não temos ofertas que correspondam ao seu perfil.
                        Continue interagindo com a plataforma para recebermos mais dados sobre suas preferências.
                    </div>
                </div>
            `;
            return;
        }
        
        // Limitar a 5 anúncios para o carrossel
        const carouselAds = userAds.slice(0, 5);
        
        // Criar estrutura do carrossel
        carouselContainer.innerHTML = `
            <div class="carousel-wrapper" style="overflow: hidden; position: relative;">
                <div class="carousel-inner" style="display: flex; transition: transform 0.4s ease;">
                    ${carouselAds.map((ad, index) => {
                        // Determinar URL da imagem
                        let imageUrl = ad.imageUrl;
                        if (ad.placeholderImage) {
                        }
                        
                        return `
                            <div class="carousel-item"; padding: 0 15px; box-sizing: border-box;">
                                <div class="sponsored-product-card" style="background: rgba(0, 0, 0, 0.2); border-radius: 15px; overflow: hidden; border: 1px solid rgba(30, 144, 255, 0.1); transition: transform 0.3s ease, box-shadow 0.3s ease; height: 100%;">
                                    <div class="sponsored-image" style="height: 180px; overflow: hidden; position: relative;">
                                        <img src="${imageUrl}" alt="${ad.title}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;">
                                        ${ad.badge ? `
                                            <div class="sponsored-badge" style="position: absolute; top: 10px; right: 10px; background: linear-gradient(90deg, var(--warning), #ffad33); font-size: 0.7rem; font-weight: bold; padding: 5px 10px; border-radius: 15px; color: #222; z-index: 10; box-shadow: 0 2px 8px rgba(255, 193, 7, 0.3);">
                                                ${ad.badge}
                                            </div>
                                        ` : ''}
                                        <div class="sponsored-brand" style="position: absolute; top: 10px; left: 10px; background: rgba(0, 0, 0, 0.6); padding: 5px 10px; border-radius: 5px; font-size: 0.8rem; color: #fff;">
                                            ${ad.brand}
                                        </div>
                                    </div>
                                    <div class="sponsored-content" style="padding: 20px;">
                                        <div class="sponsored-title" style="font-family: 'Orbitron', sans-serif; font-size: 1.1rem; font-weight: bold; margin-bottom: 10px;">
                                            ${ad.title}
                                        </div>
                                        <div class="sponsored-description" style="color: var(--gray); font-size: 0.9rem; margin-bottom: 15px; line-height: 1.4;">
                                            ${ad.description}
                                        </div>
                                        ${ad.couponCode ? `
                                            <div class="sponsored-coupon" style="background: rgba(0, 0, 0, 0.2); padding: 10px; border-radius: 5px; margin-bottom: 15px; display: flex; align-items: center; cursor: pointer; border: 1px dashed rgba(255, 193, 7, 0.3);" data-coupon="${ad.couponCode}">
                                                <div style="font-size: 1.2rem; color: var(--warning); margin-right: 10px;">
                                                    <i class="fas fa-ticket-alt"></i>
                                                </div>
                                                <div>
                                                    <div style="font-family: 'Orbitron', sans-serif; font-weight: bold; color: var(--warning);">${ad.couponCode}</div>
                                                    <div style="font-size: 0.8rem; color: #666;">Clique para copiar</div>
                                                </div>
                                            </div>
                                        ` : ''}
                                        <button class="sponsored-btn" style="width: 100%; background: linear-gradient(90deg, var(--primary), #36a6ff); color: white; border: none; border-radius: 8px; padding: 10px; font-family: 'Exo 2', sans-serif; font-size: 0.9rem; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; transition: transform 0.2s ease, box-shadow 0.2s ease;" data-url="${ad.targetUrl}">
                                            <i class="fas fa-external-link-alt"></i> Ver oferta
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            </div>
        `;
        
        // Adicionar indicadores
        const indicatorsContainer = document.querySelector('.carousel-indicators');
        if (indicatorsContainer) {
            indicatorsContainer.innerHTML = carouselAds.map((_, index) => `
                <div class="carousel-indicator" data-index="${index}" style="width: 8px; height: 8px; border-radius: 50%; background: ${index === 0 ? 'var(--primary)' : '#333'}; cursor: pointer; transition: background 0.3s ease;"></div>
            `).join('');
        }
        

  function validateDocument(input) {
    const file = input.files[0];
    if (!file) return;

    const formData = new FormData();
    formData.append('document', file);

    const resultDiv = document.querySelector('.document-validation-result');
    resultDiv.innerHTML = 'Validando documento...';

    fetch('/api/validate-cpf', {
      method: 'POST',
      body: formData
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        resultDiv.innerHTML = `
          <p><strong>CPF:</strong> ${data.cpf}</p>
          <p><strong>Nome:</strong> ${data.name}</p>
          <p><strong>Data de Nascimento:</strong> ${data.birthDate}</p>
          <p><strong>Tipo de Documento:</strong> ${data.documentType}</p>
        `;
      } else {
        resultDiv.innerHTML = `<span style="color:red">${data.message}</span>`;
      }
    })
    .catch(err => {
      resultDiv.innerHTML = `<span style="color:red">Erro ao validar o documento.</span>`;
      console.error(err);
    });
  }


        // Configurar controles do carrossel
        setupCarouselControls(carouselAds.length);
        
        // Configurar eventos para botões e cupons
        setupCardInteractions();
    }
    
    // Configurar controles do carrossel
    function setupCarouselControls(totalItems) {
        const carousel = document.querySelector('.carousel-inner');
        const prevBtn = document.querySelector('.btn-prev');
        const nextBtn = document.querySelector('.btn-next');
        const indicators = document.querySelectorAll('.carousel-indicator');
        
        // Estado atual
        let currentIndex = 0;
        
        // Atualizar estado
        function updateState() {
            // Atualizar transformação
            carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
            
            // Atualizar indicadores
            indicators.forEach((indicator, index) => {
                indicator.style.background = index === currentIndex ? 'var(--primary)' : '#333';
            });
            
            // Atualizar botões
            prevBtn.disabled = currentIndex === 0;
            prevBtn.style.opacity = currentIndex === 0 ? '0.5' : '1';
            nextBtn.disabled = currentIndex === totalItems - 1;
            nextBtn.style.opacity = currentIndex === totalItems - 1 ? '0.5' : '1';
        }
        
        // Evento para botão anterior
        prevBtn.addEventListener('click', () => {
            if (currentIndex > 0) {
                currentIndex--;
                updateState();
            }
        });
        
        // Evento para botão próximo
        nextBtn.addEventListener('click', () => {
            if (currentIndex < totalItems - 1) {
                currentIndex++;
                updateState();
            }
        });
        
        // Eventos para indicadores
        indicators.forEach((indicator) => {
            indicator.addEventListener('click', () => {
                currentIndex = parseInt(indicator.getAttribute('data-index'));
                updateState();
            });
        });
    }
    
    // Configurar interações com os cards
    function setupCardInteractions() {
        // Evento para botões de ofertas
        document.querySelectorAll('.sponsored-btn').forEach(button => {
            button.addEventListener('click', function() {
                const url = this.getAttribute('data-url');
                if (url) window.open(url, '_blank');
            });
            
            // Efeito hover
            button.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
                this.style.boxShadow = '0 5px 15px rgba(30, 144, 255, 0.3)';
            });
            
            button.addEventListener('mouseleave', function() {
                this.style.transform = '';
                this.style.boxShadow = '';
            });
        });
        
        // Evento para cards
        document.querySelectorAll('.sponsored-product-card').forEach(card => {
            // Efeito hover
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
                this.style.boxShadow = '0 10px 20px rgba(0, 0, 0, 0.2)';
                
                // Animar imagem
                const image = this.querySelector('.sponsored-image img');
                if (image) image.style.transform = 'scale(1.05)';
            });
            
            

            card.addEventListener('mouseleave', function() {
                this.style.transform = '';
                this.style.boxShadow = '';
                
                // Resetar imagem
                const image = this.querySelector('.sponsored-image img');
                if (image) image.style.transform = '';
            });
        });
        
        // Evento para cupons
        document.querySelectorAll('.sponsored-coupon').forEach(coupon => {
            coupon.addEventListener('click', function() {
                const code = this.getAttribute('data-coupon');
                if (code) {
                    navigator.clipboard.writeText(code).then(() => {
                        // Mostrar feedback
                        showCopyFeedback('Código copiado para a área de transferência!');
                        
                        // Efeito visual
                        this.style.background = 'rgba(0, 204, 102, 0.1)';
                        this.style.borderColor = 'rgba(0, 204, 102, 0.3)';
                        
                        setTimeout(() => {
                            this.style.background = '';
                            this.style.borderColor = '';
                        }, 2000);
                    });
                }
            });
        });
    }
    
    // Mostrar feedback de cópia
    function showCopyFeedback(message) {
        // Verificar se já existe um feedback
        let feedback = document.getElementById('copy-feedback');
        
        if (!feedback) {
            // Criar elemento de feedback
            feedback = document.createElement('div');
            feedback.id = 'copy-feedback';
            feedback.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: rgba(0, 204, 102, 0.9);
                color: white;
                padding: 10px 15px;
                border-radius: 5px;
                font-size: 0.9rem;
                z-index: 1001;
                transition: opacity 0.3s ease, transform 0.3s ease;
                opacity: 0;
                transform: translateY(10px);
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            `;
            
            // Adicionar ao DOM
            document.body.appendChild(feedback);
        }
        
        // Atualizar mensagem
        feedback.textContent = message;
        
        // Mostrar feedback
        feedback.style.opacity = '1';
        feedback.style.transform = 'translateY(0)';
        
        // Esconder após 3 segundos
        setTimeout(() => {
            feedback.style.opacity = '0';
            feedback.style.transform = 'translateY(10px)';
            
            // Remover do DOM após animação
            setTimeout(() => {
                if (feedback.parentNode) {
                    document.body.removeChild(feedback);
                }
            }, 300);
        }, 3000);
    }
    
    // Obter anúncios para o usuário (função placeholder que será substituída)
    function generateUserAdSet() {
        // Esta função será substituída pela implementação real do sistema de anúncios
        if (window.FuriaxAds && typeof window.FuriaxAds.generateUserAdSet === 'function') {
            return window.FuriaxAds.generateUserAdSet();
        }
        
        // Fallback para dados mockup em caso de erro
        return [
    {
        id: 'Moletom',
        brand: 'Furia',
        title: 'Camiseta - FURIA',
        description: 'Estilo oficial da FURIA. Conforto e qualidade premium para representar seu time dentro e fora do jogo.',
        imageUrl: '../img/produtos/camisa2.webp',
        placeholderImage: true,
        targetUrl: 'https://www.hyperx.com/furia',
        category: ['vestuário', 'camiseta'],
        games: ['all'],
        badge: '15% OFF EXCLUSIVO',
        couponCode: 'FURIAFAN15'
    },
    {
        id: 'Boné',
        brand: 'Furia',
        title: 'Boné - FURIA',
        description: 'Visual autêntico com o escudo da FURIA. Ideal para completar seu look com estilo e atitude gamer.',
        imageUrl: '../img/produtos/bone1.webp',
        placeholderImage: true,
        targetUrl: 'https://www.redragon.com.br/furia',
        category: ['vestuário', 'acessórios'],
        games: ['cs', 'valorant', 'apex'],
        badge: 'CUPOM ESPECIAL',
        couponCode: 'FURIAPRO10'
    },
    {
        id: 'Moletom - FURIA',
        brand: 'Furia',
        title: 'Moletom FURIA',
        description: 'O moletom oficial da FURIA. Conforto, estilo  usados pelos pros.',
        imageUrl: '../img/produtos/moletom2.webp',
        placeholderImage: true,
        targetUrl: 'https://www.logitechg.com/furia',
        category: ['vestuário', 'moletom'],
        games: ['cs', 'valorant'],
        badge: 'PARCEIRO OFICIAL',
        couponCode: 'FURIACS20'
    }
];
    }
</script>
                
    <!-- Resto do formulário continua aqui... -->
        
        <!-- Resto do código JavaScript -->
        <script>



            function createParticles() {
                const container = document.getElementById('particles');
                const numParticles = 30;
                
                for (let i = 0; i < numParticles; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    
                    // Posicionar aleatoriamente
                    particle.style.left = `${Math.random() * 100}%`;
                    particle.style.top = `${Math.random() * 100}%`;
                    
                    // Tamanhos variados
                    const size = Math.random() * 8 + 2;
                    particle.style.width = `${size}px`;
                    particle.style.height = `${size}px`;
                    
                    // Opacidade variada
                    particle.style.opacity = Math.random() * 0.5 + 0.1;
                    
                    // Animação com delay variável
                    const duration = Math.random() * 25 + 15; // 15-40s
                    const delay = Math.random() * 10;
                    particle.style.animationDuration = `${duration}s`;
                    particle.style.animationDelay = `${delay}s`;
                    
                    container.appendChild(particle);
                }
            }
            
            // Inicialização
            document.addEventListener('DOMContentLoaded', function() {
                // Criar partículas para o fundo
                createParticles();
                
                // Configurar sistema de estrelas
                setupStarRating();
                
                // Configurar máscaras para campos
                setupInputMasks();
                
                // Mostrar step mobile para telas pequenas
                if (window.innerWidth <= 768) {
                    document.getElementById('stepMobileLabel').style.display = 'block';
                }
            }); 
            
            // Configurar estrelas de avaliação
            function setupStarRating() {
                document.querySelectorAll('.star').forEach(star => {
                    star.addEventListener('click', function() {
                        const value = this.getAttribute('data-value');
                        const gameId = this.parentNode.getAttribute('data-game');
                        const stars = document.querySelectorAll(`.rating[data-game="${gameId}"] .star`);
                        
                        stars.forEach(s => {
                            s.classList.remove('active');
                            if (s.getAttribute('data-value') <= value) {
                                s.classList.add('active');
                            }
                        });
                        
                        // Salvar valor (simulação)
                        console.log(`Game ${gameId} rated: ${value} stars`);
                    });
                });
            }
            
            // Configurar máscaras para campos
            function setupInputMasks() {
                // CPF: 000.000.000-00
                const cpfInput = document.getElementById('cpf');
                if (cpfInput) {
                    cpfInput.addEventListener('input', function() {
                        let value = this.value.replace(/\D/g, '');
                        if (value.length > 11) value = value.substring(0, 11);
                        
                        if (value.length > 9) {
                            this.value = value.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
                        } else if (value.length > 6) {
                            this.value = value.replace(/(\d{3})(\d{3})(\d+)/, '$1.$2.$3');
                        } else if (value.length > 3) {
                            this.value = value.replace(/(\d{3})(\d+)/, '$1.$2');
                        } else {
                            this.value = value;
                        }
                    });
                }
                
                // CEP: 00000-000
                const cepInput = document.getElementById('cep');
                if (cepInput) {
                    cepInput.addEventListener('input', function() {
                        let value = this.value.replace(/\D/g, '');
                        if (value.length > 8) value = value.substring(0, 8);
                        
                        if (value.length > 5) {
                            this.value = value.replace(/(\d{5})(\d+)/, '$1-$2');
                        } else {
                            this.value = value;
                        }
                    });
                }
                
                // Telefone: (00) 00000-0000
                const phoneInput = document.getElementById('phone');
                if (phoneInput) {
                    phoneInput.addEventListener('input', function() {
                        let value = this.value.replace(/\D/g, '');
                        if (value.length > 11) value = value.substring(0, 11);
                        
                        if (value.length > 10) {
                            this.value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
                        } else if (value.length > 6) {
                            this.value = value.replace(/(\d{2})(\d{4})(\d+)/, '($1) $2-$3');
                        } else if (value.length > 2) {
                            this.value = value.replace(/(\d{2})(\d+)/, '($1) $2');
                        } else {
                            this.value = value;
                        }
                    });
                }
            }
            
            // Função para navegar entre etapas
            function goToStep(step) {
                // Esconder todas as etapas
                document.querySelectorAll('.form-step').forEach(el => {
                    el.style.display = 'none';
                });
                
                // Mostrar etapa atual
                document.getElementById(`step${step}-content`).style.display = 'block';
                
                // Atualizar indicadores de progresso
                updateProgress(step);
                
                // Rolar para o topo
                window.scrollTo({top: 0, behavior: 'smooth'});
                
                // Exibir notificação
                showNotification('Etapa ' + step + ' de 4', getStepName(step), 'info');
            }
            
            // Atualizar progresso
            function updateProgress(step) {
                // Atualizar círculos de passo
                document.querySelectorAll('.step').forEach((el, index) => {
                    // Limpar classes
                    el.classList.remove('active', 'completed');
                    
                    // Adicionar classes adequadas
                    if (index + 1 < step) {
                        el.classList.add('completed');
                    } else if (index + 1 === step) {
                        el.classList.add('active');
                    }
                });
                
                // Atualizar barra de progresso
                const progress = ((step - 1) / 3) * 100;
                document.querySelector('.progress-fill').style.width = `${progress}%`;
                
                // Atualizar label mobile
                const mobileLabel = document.getElementById('stepMobileLabel');
                if (mobileLabel) {
                    mobileLabel.textContent = `Etapa ${step} de 4: ${getStepName(step)}`;
                }
            }
            
            // Obter nome da etapa
            function getStepName(step) {
                switch(parseInt(step)) {
                    case 1: return 'Dados Pessoais';
                    case 2: return 'Interesses';
                    case 3: return 'Eventos';
                    case 4: return 'Compras';
                    default: return '';
                }
            }
            
            // Submeter formulário
// Remove this incomplete submitForm function
function submitForm() {
    // Coletar dados (simulação)
    const formData = {
        personalData: {
            name: document.getElementById('fullName')?.value,
            email: document.getElementById('email')?.value,
            cpf: document.getElementById('cpf')?.value,
            // outros campos
        },
        // outras seções
        timestamp: new Date().toISOString()
    }
    
    // Salvar dados (simulação)
    localStorage.setItem('furiax_fan_data', JSON.stringify(formData));
    
    // Adicionar recompensas (simulação)
    addUserRewards();
    
    // Mostrar tela final
    document.querySelectorAll('.form-step').forEach(el => {
        el.style.display = 'none';
    });
    document.getElementById('complete-content').style.display = 'block';
    
    // Mostrar notificação
    showNotification('Concluído!', 'Seu perfil foi atualizado com sucesso', 'success');
}
            
            // Essa função deve ser adicionada ao seu código JavaScript existente
function validateDocument(fileInput) {
  const file = fileInput.files[0];
  if (!file) {
    showValidationMessage("error", "Nenhum arquivo selecionado.");
    return;
  }
  
  // Verificar tipo de arquivo
  if (!file.type.match('image.*')) {
    showValidationMessage("error", "Por favor, faça upload de uma imagem válida (JPG, PNG).");
    return;
  }
  
  // Mostrar mensagem de carregamento
  showValidationMessage("loading", "Processando documento...");
  
  // Verificar se o servidor está online
  // Se sim, enviar para o servidor; se não, processar localmente com Tesseract
  const online = navigator.onLine;
  
  if (online) {
    // Tentar usar o servidor primeiro
    uploadAndValidateCPF(file);
  } else {
    // Fallback para processamento local com Tesseract
    processDocumentWithOCR(file);
  }
}

// Função melhorada para exibir mensagens de validação
function showValidationMessage(type, message) {
  const resultDisplay = document.querySelector('.document-validation-result');
  if (!resultDisplay) return;
  
  if (type === "loading") {
    resultDisplay.innerHTML = `
      <div class="validation-loading">
        <i class="fas fa-spinner fa-spin"></i> ${message}
      </div>
    `;
  } else if (type === "success") {
    resultDisplay.innerHTML = `
      <div class="validation-success">
        <i class="fas fa-check-circle"></i> ${message}
      </div>
    `;
  } else if (type === "error") {
    resultDisplay.innerHTML = `
      <div class="validation-error">
        <i class="fas fa-exclamation-circle"></i> ${message}
      </div>
    `;
  }
}

// Função para confirmar o CPF detectado
function confirmCPF(cpf) {
  // Preencher o campo CPF no formulário
  const cpfField = document.getElementById('cpf');
  if (cpfField) {
    cpfField.value = cpf;
  }
  
  // Atualizar a UI para mostrar confirmação
  const resultContainer = document.querySelector('.document-validation-result');
  const button = resultContainer.querySelector('button');
  if (button) {
    button.disabled = true;
    button.innerHTML = "✓ Documento Validado";
    button.style.background = "#888";
  }
  
  // Adicionar campo hidden para indicar validação
  const hiddenInput = document.createElement('input');
  hiddenInput.type = 'hidden';
  hiddenInput.name = 'cpf_document_validated';
  hiddenInput.value = 'true';
  document.body.appendChild(hiddenInput);
  
  // Mostrar notificação
  showNotification('Sucesso', 'CPF validado com sucesso!', 'success');
}

// Função para upload e validação do CPF no servidor
function uploadAndValidateCPF(file) {
  // Obter o container para o resultado
  let resultContainer = document.querySelector('.document-validation-result');
  if (!resultContainer) {
    resultContainer = document.createElement('div');
    resultContainer.className = 'document-validation-result';
    document.getElementById('documentUpload').parentNode.appendChild(resultContainer);
  }
  
  // Mostrar carregando
  resultContainer.innerHTML = `
    <div class="validation-loading">
      <i class="fas fa-spinner fa-spin"></i> Enviando documento para validação...
    </div>
  `;
  
  // Criar objeto FormData e adicionar o arquivo
  const formData = new FormData();
  formData.append('document', file);
  
  // Enviar para o servidor
  fetch('/api/validate-cpf', {
    method: 'POST',
    body: formData
  })
  .then(response => {
    if (!response.ok) {
      throw new Error('Falha ao validar documento');
    }
    return response.json();
  })
  .then(data => {
    if (data.success) {
      // Documento validado com sucesso
      resultContainer.innerHTML = `
        <div class="validation-success">
          <i class="fas fa-check-circle"></i> ${data.message || 'Documento validado com sucesso!'}
        </div>
        <div style="margin-top:15px; padding:15px; background:rgba(0,0,0,0.2); border-radius:10px;">
          <img src="${URL.createObjectURL(file)}" alt="CPF Document" style="max-width:100%; max-height:300px; border-radius:5px;">
          
          <div style="margin-top:15px; padding:10px; background:rgba(0,204,102,0.1); border-radius:5px; border:1px solid rgba(0,204,102,0.3);">
            <div><strong>CPF:</strong> ${data.cpf}</div>
            <div><strong>Nome:</strong> ${data.name || 'Não detectado'}</div>
            ${data.birthDate ? `<div><strong>Nascimento:</strong> ${data.birthDate}</div>` : ''}
            <div><strong>Status:</strong> Verificado</div>
          </div>
          
          <button onclick="confirmCPF('${data.cpf}')" style="margin-top:15px; background:#4CAF50; color:white; border:none; padding:12px; border-radius:5px; cursor:pointer; width:100%; font-weight:bold;">
            Confirmar Documento
          </button>
        </div>
      `;
      
      // Auto-preencher o campo de CPF
      const cpfField = document.getElementById('cpf');
      if (cpfField) {
        cpfField.value = data.cpf;
      }
    } else {
      // Documento inválido
      resultContainer.innerHTML = `
        <div class="validation-error">
          <i class="fas fa-exclamation-circle"></i> ${data.message || 'Documento inválido'}
        </div>
        <div style="margin-top:15px; padding:15px; background:rgba(0,0,0,0.2); border-radius:10px;">
          <img src="${URL.createObjectURL(file)}" alt="Document" style="max-width:100%; max-height:300px; border-radius:5px;">
          <div style="margin-top:15px; padding:10px; background:rgba(255,255,255,0.05); border-radius:5px; font-size:0.9rem; color:#aaa;">
            <p>Não foi possível validar o documento. Por favor, certifique-se de que:</p>
            <ul style="padding-left: 20px; margin-top: 10px;">
              <li>A imagem está nítida e bem iluminada</li>
              <li>O CPF está claramente visível</li>
              <li>O documento é válido e oficial</li>
            </ul>
          </div>
          <button onclick="document.getElementById('documentUpload').click()" style="margin-top:15px; background:#1e90ff; color:white; border:none; padding:12px; border-radius:5px; cursor:pointer; width:100%;">
            Tentar novamente
          </button>
        </div>
      `;
    }
  })
  .catch(error => {
    console.error('Erro:', error);
    // Fallback para processamento local com Tesseract se o servidor falhar
    processDocumentWithOCR(file);
  });
}
            // Adicionar recompensas (simulação)
            function addUserRewards() {
                // Em uma implementação real, integraria com o sistema de gamificação
                console.log('Recompensas adicionadas: +500 XP, badge exclusiva, cupom de desconto');
            }
            
            // Sistema de notificações
            function showNotification(title, message, type = 'info') {
                const notification = document.getElementById('notification');
                const iconEl = notification.querySelector('.notification-icon i');
                const titleEl = notification.querySelector('.notification-title');
                const messageEl = notification.querySelector('.notification-message');
                
                // Atualizar conteúdo
                titleEl.textContent = title;
                messageEl.textContent = message;
                
                // Remover classes anteriores
                notification.className = 'notification';
                
                // Adicionar classe para o tipo
                notification.classList.add(type);
                
                // Atualizar ícone
                if (type === 'success') {
                    iconEl.className = 'fas fa-check-circle';
                } else if (type === 'error') {
                    iconEl.className = 'fas fa-exclamation-circle';
                } else {
                    iconEl.className = 'fas fa-info-circle';
                }
                
                // Mostrar notificação
                notification.classList.add('visible');
                
                // Esconder após 3 segundos
                setTimeout(() => {
                    notification.classList.remove('visible');
                }, 3000);
            }

            // Sistema de recomendações personalizadas baseado no formulário
function generateRecommendations() {
    // Coletar dados do formulário
    const formData = collectFormData();
    
    // Gerar recomendações específicas para cada categoria
    const recommendations = {
        events: generateEventRecommendations(formData),
        products: generateProductRecommendations(formData),
        content: generateContentRecommendations(formData),
        experiences: generateExperienceRecommendations(formData)
    };
    
    // Salvar recomendações no localStorage para uso em outras páginas
    localStorage.setItem('furiax_recommendations', JSON.stringify(recommendations));
    
    // Adicionar seção de recomendações à tela de conclusão
    addRecommendationsToCompletionScreen(recommendations);
    
    return recommendations;
}

// Coletar todos os dados do formulário
function collectFormData() {
    // Dados pessoais
    const personalData = {
        name: document.getElementById('fullName')?.value || '',
        nickname: document.getElementById('nickname')?.value || '',
        email: document.getElementById('email')?.value || '',
        phone: document.getElementById('phone')?.value || '',
        birthDate: document.getElementById('birthDate')?.value || '',
        location: {
            city: document.getElementById('city')?.value || '',
            state: document.getElementById('state')?.value || ''
        }
    };
    
    // Interesses em jogos (estrelas 1-5)
    const gameInterests = {};
    document.querySelectorAll('.rating').forEach(rating => {
        const gameId = rating.getAttribute('data-game');
        const activeStars = rating.querySelectorAll('.star.active').length;
        gameInterests[gameId] = activeStars;
    });
    
    // Tópicos de interesse (checkboxes)
    const topicInterests = [];
    document.querySelectorAll('input[name="interests"]:checked').forEach(checkbox => {
        topicInterests.push(checkbox.value);
    });
    
    // Tipo de conteúdo preferido (radio)
    const contentType = document.querySelector('input[name="content-type"]:checked')?.value || '';
    
    // Eventos que participou
    const attendedEvents = [];
    document.querySelectorAll('input[name="events"]:checked').forEach(checkbox => {
        attendedEvents.push(checkbox.value);
    });
    
    // Frequência de assistir partidas
    const watchFrequency = document.querySelector('input[name="watch-frequency"]:checked')?.value || '';
    const watchPlatform = document.getElementById('watchPlatform')?.value || '';
    
    // Produtos adquiridos
    const purchasedProducts = [];
    document.querySelectorAll('input[name="products"]:checked').forEach(checkbox => {
        purchasedProducts.push(checkbox.value);
    });
    
    // Valor gasto
    const purchaseAmount = document.getElementById('purchaseAmount')?.value || '';
    
    // Preferências futuras
    const futureInterests = [];
    document.querySelectorAll('input[name="future-interest"]:checked').forEach(checkbox => {
        futureInterests.push(checkbox.value);
    });
    
    // Sugestões
    const suggestions = document.getElementById('futureSuggestions')?.value || '';
    
    // Retornar objeto completo
    return {
        personalData,
        gameInterests,
        topicInterests,
        contentType,
        attendedEvents,
        watchFrequency,
        watchPlatform,
        purchasedProducts,
        purchaseAmount,
        futureInterests,
        suggestions
    };
}

// Gerar recomendações de eventos
function generateEventRecommendations(formData) {
    const recommendations = [];
    
    // Base de dados simulada de eventos futuros
    const upcomingEvents = [
        {
            id: 'fan-fest-2025',
            title: 'FURIA Fan Fest SP 2025',
            date: '25-26 Julho, 2025',
            location: 'Expo Center Norte',
            type: 'presencial',
            category: ['fan-fest', 'meet-greet', 'campeonatos'],
            games: ['cs', 'valorant', 'lol'],
            description: 'O maior evento de fãs da FURIA, com meet & greet, torneios amadores e experiências exclusivas.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'cs-viewing-party',
            title: 'CS Major Viewing Party',
            date: '10 Junho, 2025',
            location: 'FURIA Arena',
            type: 'presencial',
            category: ['viewing-party', 'campeonatos'],
            games: ['cs'],
            description: 'Assista ao Major com outros fãs da FURIA, ambiente climatizado e open food.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'workshop-cs',
            title: 'Workshop Tático CS',
            date: '15 Agosto, 2025',
            location: 'Online',
            type: 'online',
            category: ['workshop', 'estrategias', 'treinos'],
            games: ['cs'],
            description: 'Aprenda táticas e estratégias com analistas e ex-jogadores profissionais.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'valorant-tournament',
            title: 'FURIA Community Cup VALORANT',
            date: '12 Setembro, 2025',
            location: 'Online',
            type: 'online',
            category: ['campeonatos', 'jogadores'],
            games: ['valorant'],
            description: 'Torneio online para a comunidade com partidas transmitidas e comentadas pelos jogadores profissionais.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'lol-experience',
            title: 'LoL Experience Day',
            date: '5 Outubro, 2025',
            location: 'Shopping JK Iguatemi',
            type: 'presencial',
            category: ['meet-greet', 'jogadores'],
            games: ['lol'],
            description: 'Um dia inteiro dedicado à equipe de LoL da FURIA, com sessão de autógrafos e showmatch.',
            image: '/api/placeholder/400/240'
        }
    ];
    
    // Algoritmo de pontuação para eventos
    upcomingEvents.forEach(event => {
        let score = 0;
        
        // Maior pontuação para jogos favoritos
        const gameInterests = formData.gameInterests;
        event.games.forEach(game => {
            if (gameInterests[game]) {
                score += gameInterests[game] * 2; // Peso duplo para jogos favoritos
            }
        });
        
        // Pontuação para categorias de interesse
        event.category.forEach(category => {
            if (formData.topicInterests.includes(category)) {
                score += 3;
            }
        });
        
        // Localização - eventos na mesma cidade/estado ganham pontos
        if (event.location.includes(formData.personalData.location.city)) {
            score += 5;
        } else if (event.location.includes(formData.personalData.location.state)) {
            score += 3;
        }
        
        // Tipo de evento (online/presencial) - baseado em eventos passados
        if (formData.attendedEvents.length > 0) {
            // Se participou de eventos presenciais, dar pontos para eventos presenciais
            if (event.type === 'presencial' && 
                (formData.attendedEvents.includes('fan-fest-sp') || 
                 formData.attendedEvents.includes('meet-greet-eldorado') ||
                 formData.attendedEvents.includes('experience-rio') ||
                 formData.attendedEvents.includes('popup-morumbi'))) {
                score += 4;
            }
        } else {
            // Se não participou de eventos, dar pontos para eventos online
            if (event.type === 'online') {
                score += 2;
            }
        }
        
        // Adicionar evento com pontuação
        recommendations.push({
            ...event,
            score: score
        });
    });
    
    // Ordenar por pontuação e retornar top 3
    return recommendations
        .sort((a, b) => b.score - a.score)
        .slice(0, 3);
}

// Gerar recomendações de produtos
function generateProductRecommendations(formData) {
    const recommendations = [];
    
    // Base de dados simulada de produtos
    const products = [
        {
            id: 'jersey-pro',
            title: 'Jersey Pro Player Edition',
            category: ['vestuario', 'exclusive'],
            games: ['all'],
            price: 349.90,
            description: 'Edição limitada com mesmo tecido e corte utilizados pelos jogadores profissionais.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'mousepad-xl',
            title: 'Mousepad XL Pro Series',
            category: ['hardware', 'gaming'],
            games: ['cs', 'valorant', 'apex'],
            price: 149.90,
            description: 'Mousepad profissional com bordas costuradas e superfície de alta precisão.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'cap-championship',
            title: 'Boné FURIA Championship',
            category: ['vestuario', 'accessories'],
            games: ['all'],
            price: 129.90,
            description: 'Boné comemorativo da campanha no último major, com bordado especial.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'headset-pro',
            title: 'Headset FURIA Pro Gaming',
            category: ['hardware', 'gaming', 'exclusive'],
            games: ['cs', 'valorant', 'r6', 'apex'],
            price: 599.90,
            description: 'Headset profissional com as mesmas especificações utilizadas pelos jogadores da FURIA.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'hoodie-casual',
            title: 'Moletom FURIA Casual Series',
            category: ['vestuario', 'casual'],
            games: ['all'],
            price: 249.90,
            description: 'Moletom com design minimalista perfeito para o dia a dia.',
            image: '/api/placeholder/400/240'
        }
    ];
    
    // Algoritmo de pontuação para produtos
    products.forEach(product => {
        let score = 0;
        
        // Jogos favoritos
        const gameInterests = formData.gameInterests;
        if (product.games.includes('all')) {
            // Produtos para todos os jogos recebem pontuação baseada no jogo favorito
            const maxGameScore = Math.max(...Object.values(gameInterests));
            score += maxGameScore * 1.5;
        } else {
            // Produtos específicos para jogos
            product.games.forEach(game => {
                if (gameInterests[game]) {
                    score += gameInterests[game] * 2;
                }
            });
        }
        
        // Categorias de produtos já comprados
        product.category.forEach(category => {
            if (category === 'vestuario' && 
                (formData.purchasedProducts.includes('jersey') || 
                 formData.purchasedProducts.includes('tshirt') ||
                 formData.purchasedProducts.includes('hoodie'))) {
                score += 3;
            } else if (category === 'hardware' && 
                      (formData.purchasedProducts.includes('mousepad'))) {
                score += 3;
            } else if (category === 'accessories' && 
                      (formData.purchasedProducts.includes('accessories') ||
                       formData.purchasedProducts.includes('keychain') ||
                       formData.purchasedProducts.includes('mug') ||
                       formData.purchasedProducts.includes('cap'))) {
                score += 3;
            }
        });
        
        // Ajuste de preço baseado no histórico de compras
        if (formData.purchaseAmount === 'less100' && product.price < 100) {
            score += 4;
        } else if (formData.purchaseAmount === '100to300' && product.price >= 100 && product.price <= 300) {
            score += 4;
        } else if (formData.purchaseAmount === '300to500' && product.price >= 300 && product.price <= 500) {
            score += 4;
        } else if (formData.purchaseAmount === '500to1000' && product.price >= 500 && product.price <= 1000) {
            score += 4;
        } else if (formData.purchaseAmount === 'more1000' && product.price >= 500) {
            score += 4;
        }
        
        // Produtos exclusivos ganham pontos adicionais
        if (product.category.includes('exclusive')) {
            score += 2;
        }
        
        // Adicionar produto com pontuação
        recommendations.push({
            ...product,
            score: score
        });
    });
    
    // Ordenar por pontuação e retornar top 3
    return recommendations
        .sort((a, b) => b.score - a.score)
        .slice(0, 3);
}

// Gerar recomendações de conteúdo
function generateContentRecommendations(formData) {
    const recommendations = [];
    
    // Base de dados simulada de conteúdos
    const contents = [
        {
            id: 'treino-tatico',
            title: 'Treino Tático do Major',
            category: ['video', 'exclusive', 'treinos', 'estrategias'],
            games: ['cs'],
            duration: '45 min',
            description: 'Acesso exclusivo a sessão de treino tático da FURIA antes da final do último major.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'podcast-bastidores',
            title: 'Podcast: Nos Bastidores',
            category: ['podcast', 'bastidores', 'jogadores'],
            games: ['all'],
            duration: '1h 23min',
            description: 'Um papo sincero com os jogadores sobre a rotina, treinos e vida pessoal.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'masterclass-smokes',
            title: 'Masterclass: Smokes Avançadas',
            category: ['video', 'tutorial', 'estrategias'],
            games: ['cs'],
            duration: '35 min',
            description: 'Aprenda configurações avançadas de smokes com os jogadores profissionais da FURIA.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'vocomms-match',
            title: 'Voice Comms: Final do Major',
            category: ['video', 'exclusive', 'bastidores', 'campeonatos'],
            games: ['cs'],
            duration: '22 min',
            description: 'Ouça as comunicações completas da equipe durante a final do último Major.',
            image: '/api/placeholder/400/240'
        },
        {
            id: 'warmup-rotina',
            title: 'Guia: Rotina de Warmup Profissional',
            category: ['article', 'tutorial', 'treinos'],
            games: ['valorant', 'cs', 'apex'],
            duration: '10 min leitura',
            description: 'Artigo detalhado sobre a rotina de aquecimento dos jogadores da FURIA antes das partidas oficiais.',
            image: '/api/placeholder/400/240'
        }
    ];
    
    // Algoritmo de pontuação para conteúdos
    contents.forEach(content => {
        let score = 0;
        
        // Jogos favoritos
        const gameInterests = formData.gameInterests;
        if (content.games.includes('all')) {
            // Conteúdos para todos os jogos recebem pontuação baseada no jogo favorito
            const maxGameScore = Math.max(...Object.values(gameInterests));
            score += maxGameScore * 1.5;
        } else {
            // Conteúdos específicos para jogos
            content.games.forEach(game => {
                if (gameInterests[game]) {
                    score += gameInterests[game] * 2;
                }
            });
        }
        
        // Tópicos de interesse
        content.category.forEach(category => {
            if (formData.topicInterests.includes(category)) {
                score += 3;
            }
        });
        
        // Tipo de conteúdo preferido
        if (content.category.includes('video') && formData.contentType === 'videos') {
            score += 5;
        } else if (content.category.includes('podcast') && formData.contentType === 'podcasts') {
            score += 5;
        } else if (content.category.includes('article') && formData.contentType === 'articles') {
            score += 5;
        } else if ((content.category.includes('video') || content.category.includes('livestream')) && formData.contentType === 'livestreams') {
            score += 5;
        }
        
        // Frequência de assistir partidas
        if (formData.watchFrequency === 'all' || formData.watchFrequency === 'most') {
            // Fãs que assistem muitas partidas recebem mais conteúdo técnico/estratégico
            if (content.category.includes('estrategias') || content.category.includes('treinos')) {
                score += 3;
            }
        } else if (formData.watchFrequency === 'important') {
            // Fãs que assistem apenas campeonatos importantes recebem mais conteúdo de highlights
            if (content.category.includes('campeonatos') || content.category.includes('highlights')) {
                score += 3;
            }
        } else {
            // Fãs que assistem menos recebem mais conteúdo de bastidores
            if (content.category.includes('bastidores') || content.category.includes('jogadores')) {
                score += 3;
            }
        }
        
        // Adicionar conteúdo com pontuação
        recommendations.push({
            ...content,
            score: score
        });
    });
    
    // Ordenar por pontuação e retornar top 3
    return recommendations
        .sort((a, b) => b.score - a.score)
        .slice(0, 3);
}

// Gerar recomendações de experiências VIP
function generateExperienceRecommendations(formData) {
    const recommendations = [];
    
    // Base de dados simulada de experiências
    const experiences = [
        {
            id: 'bootcamp-experience',
            title: 'Bootcamp Experience',
            category: ['presencial', 'exclusive', 'bastidores', 'jogadores'],
            games: ['cs', 'valorant'],
            date: '10 de Agosto, 2025',
            location: 'FURIA HQ - São Paulo',
            price: 'Ultra Premium',
            description: 'Passe um dia inteiro no bootcamp da FURIA, acompanhando treinos e conhecendo a rotina dos pros.',
            image: '/api/placeholder/400/240',
            capacity: '5 vagas',
            progress: 60
        },
        {
            id: 'camarote-major',
            title: 'Camarote VIP no Major',
            category: ['presencial', 'campeonatos', 'exclusive'],
            games: ['cs'],
            date: '15-20 de Outubro, 2025',
            location: 'Allianz Parque - São Paulo',
            price: 'Premium',
            description: 'Assista ao Major de um camarote exclusivo com open bar e meet & greet com jogadores.',
            image: '/api/placeholder/400/240',
            capacity: '20 vagas',
            progress: 35
        },
        {
            id: 'play-with-pro',
            title: 'Play with Pro: Matchmaking',
            category: ['online', 'jogadores', 'exclusive'],
            games: ['cs', 'valorant', 'apex'],
            date: 'Agende sua data',
            location: 'Online',
            price: 'Premium',
            description: 'Jogue 3 partidas de matchmaking com um jogador profissional da FURIA.',
            image: '/api/placeholder/400/240',
            capacity: '1:1',
            progress: 100
        },
        {
            id: 'vip-tour',
            title: 'Tour VIP FURIA Headquarters',
            category: ['presencial', 'bastidores'],
            games: ['all'],
            date: 'Últimas sextas do mês',
            location: 'FURIA HQ - São Paulo',
            price: 'Standard',
            description: 'Conheça as instalações da FURIA com um tour guiado pelos bastidores da organização.',
            image: '/api/placeholder/400/240',
            capacity: '15 vagas por tour',
            progress: 20
        },
        {
            id: 'coaching-session',
            title: 'Sessão de Coaching Personalizada',
            category: ['online', 'estrategias', 'treinos'],
            games: ['cs', 'valorant', 'lol'],
            date: 'Agende sua data',
            location: 'Online',
            price: 'Premium',
            description: 'Receba uma análise detalhada e dicas de um treinador profissional da FURIA.',
            image: '/api/placeholder/400/240',
            capacity: '1:1',
            progress: 80
        }
    ];
    
    // Algoritmo de pontuação para experiências
    experiences.forEach(experience => {
        let score = 0;
        
        // Jogos favoritos
        const gameInterests = formData.gameInterests;
        if (experience.games.includes('all')) {
            // Experiências para todos os jogos recebem pontuação baseada no jogo favorito
            const maxGameScore = Math.max(...Object.values(gameInterests));
            score += maxGameScore * 1.5;
        } else {
            // Experiências específicas para jogos
            experience.games.forEach(game => {
                if (gameInterests[game]) {
                    score += gameInterests[game] * 2;
                }
            });
        }
        
        // Tópicos de interesse
        experience.category.forEach(category => {
            if (formData.topicInterests.includes(category)) {
                score += 3;
            }
        });
        
        // Eventos passados - preferência por tipo similar
        const hasAttendedPhysical = formData.attendedEvents.includes('fan-fest-sp') || 
                                    formData.attendedEvents.includes('meet-greet-eldorado') ||
                                    formData.attendedEvents.includes('experience-rio') ||
                                    formData.attendedEvents.includes('popup-morumbi');
                                    
        if (hasAttendedPhysical && experience.category.includes('presencial')) {
            score += 4;
        } else if (!hasAttendedPhysical && experience.category.includes('online')) {
            score += 3;
        }
        
        // Localização - se o usuário for de São Paulo, dar preferência a eventos em SP
        if (experience.location.includes('São Paulo') && 
            (formData.personalData.location.city.includes('São Paulo') || 
             formData.personalData.location.state === 'SP')) {
            score += 4;
        }
        
        // Preferências futuras
        if (formData.futureInterests.includes('meet-players') && 
            (experience.category.includes('jogadores'))) {
            score += 5;
        }
        if (formData.futureInterests.includes('more-events') && 
            (experience.category.includes('presencial'))) {
            score += 5;
        }
        
        // Histórico de compras - ajustar faixa de preço
        if (experience.price === 'Ultra Premium' && 
            (formData.purchaseAmount === 'more1000')) {
            score += 3;
        } else if (experience.price === 'Premium' && 
                  (formData.purchaseAmount === '500to1000' || formData.purchaseAmount === 'more1000')) {
            score += 3;
        } else if (experience.price === 'Standard' && 
                  (formData.purchaseAmount === '300to500' || formData.purchaseAmount === '100to300')) {
            score += 3;
        }
        
        // Adicionar experiência com pontuação
        recommendations.push({
            ...experience,
            score: score
        });
    });
    
    // Ordenar por pontuação e retornar top 3
    return recommendations
        .sort((a, b) => b.score - a.score)
        .slice(0, 3);
}

// Adicionar recomendações à tela de conclusão
function addRecommendationsToCompletionScreen(recommendations) {
    // Verificar se já existe a seção de recomendações
    let recommendationsSection = document.getElementById('personalized-recommendations');
    
    // Se não existir, criar a seção
    if (!recommendationsSection) {
        const completionScreen = document.getElementById('complete-content');
        
        // Criar seção de recomendações
        recommendationsSection = document.createElement('div');
        recommendationsSection.id = 'personalized-recommendations';
        recommendationsSection.className = 'rewards-section';
        recommendationsSection.style.marginTop = '40px';
        recommendationsSection.style.background = 'linear-gradient(145deg, rgba(30, 144, 255, 0.05), rgba(30, 144, 255, 0.01))';
        recommendationsSection.style.borderColor = 'rgba(30, 144, 255, 0.1)';
        
        // Título da seção
        const recommendationsTitle = document.createElement('h3');
        recommendationsTitle.className = 'reward-title';
        recommendationsTitle.style.color = 'var(--primary)';
        recommendationsTitle.innerHTML = '<i class="fas fa-magic" style="margin-right: 10px;"></i>Recomendações Personalizadas';
        
        // Descrição
        const recommendationsDescription = document.createElement('p');
        recommendationsDescription.style.color = 'var(--gray)';
        recommendationsDescription.style.marginBottom = '20px';
        recommendationsDescription.textContent = 'Com base no seu perfil, selecionamos estas experiências que acreditamos que você vai adorar:';
        
        // Adicionar elementos
        recommendationsSection.appendChild(recommendationsTitle);
        recommendationsSection.appendChild(recommendationsDescription);
        
        // Adicionar abas para as categorias
        const tabContainer = document.createElement('div');
        tabContainer.className = 'tabs-container';
        tabContainer.style.maxWidth = '100%';
        
        // Tabs navigation
        const tabsNav = document.createElement('div');
        tabsNav.className = 'tabs-nav';
        
        // Criar abas para cada categoria
        const categories = [
            { id: 'rec-events', name: 'Eventos', icon: 'fas fa-calendar-alt' },
            { id: 'rec-experiences', name: 'Experiências VIP', icon: 'fas fa-star' },
            { id: 'rec-products', name: 'Produtos', icon: 'fas fa-shopping-bag' },
            { id: 'rec-content', name: 'Conteúdo', icon: 'fas fa-play-circle' }
        ];
        
        categories.forEach((category, index) => {
            const tab = document.createElement('div');
            tab.className = `tab-item ${index === 0 ? 'active' : ''}`;
            tab.setAttribute('data-tab', category.id);
            tab.innerHTML = `<i class="${category.icon}" style="margin-right: 8px;"></i>${category.name}`;
            
            // Adicionar evento de clique
            tab.addEventListener('click', () => {
                // Remover classe ativa de todas as abas
                document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));
                
                // Adicionar classe ativa à aba clicada
                tab.classList.add('active');
                
                // Esconder todos os conteúdos de abas
                document.querySelectorAll('.rec-tab-content').forEach(content => {
                    content.style.display = 'none';
                });
                
                // Mostrar conteúdo da aba selecionada
                document.getElementById(`${category.id}-content`).style.display = 'block';
            });
            
            tabsNav.appendChild(tab);
        });
        
        tabContainer.appendChild(tabsNav);
        
        // Conteúdo das abas
        categories.forEach((category, index) => {
            const tabContent = document.createElement('div');
            tabContent.className = 'rec-tab-content';
            tabContent.id = `${category.id}-content`;
            tabContent.style.display = index === 0 ? 'block' : 'none';
            
            // Grid para recomendações
            const recommendationsGrid = document.createElement('div');
            recommendationsGrid.className = 'recommendations-grid';
            
            tabContent.appendChild(recommendationsGrid);
            tabContainer.appendChild(tabContent);
        });
        
        recommendationsSection.appendChild(tabContainer);
        
        // Adicionar à tela de conclusão
        completionScreen.appendChild(recommendationsSection);
    }
    
    // Preencher cada aba com as recomendações
    for (const [category, items] of Object.entries(recommendations)) {
    const gridContainer = document.querySelector(`#rec-${category}-content .recommendations-grid`);

    // Limpar conteúdo anterior
    gridContainer.innerHTML = '';

    // Adicionar itens
    items.forEach(item => {
        // Criar card
        const card = document.createElement('div');
        card.className = 'recommendation-card';
        card.style.opacity = '1';
        card.style.transform = 'none';

        // Verificar se é um item exclusivo/premium
        if (item.category && (item.category.includes('exclusive') || item.price === 'Premium' || item.price === 'Ultra Premium')) {
            // Imagem
            const imageContainer = document.createElement('div');
            imageContainer.className = 'recommendation-image';
            imageContainer.innerHTML = `<img src="${item.image}" alt="${item.title}">`;
            card.appendChild(imageContainer);

            // Conteúdo
            const contentContainer = document.createElement('div');
            contentContainer.className = 'recommendation-content';

            // Título
            const titleElement = document.createElement('div');
            titleElement.className = 'recommendation-title';
            titleElement.textContent = item.title;
            contentContainer.appendChild(titleElement);

            // Descrição
            const descriptionElement = document.createElement('div');
            descriptionElement.className = 'recommendation-description';
            descriptionElement.textContent = item.description;
            contentContainer.appendChild(descriptionElement);

            // Informações adicionais - data/local ou preço
            if (category === 'events' || category === 'experiences') {
                const eventInfo = document.createElement('div');
                eventInfo.className = 'event-info';
                eventInfo.innerHTML = `
                    <i class="fas fa-calendar-alt"></i> ${item.date}
                    <span class="event-info-divider">|</span>
                    <i class="fas fa-map-marker-alt"></i> ${item.location}
                `;
                contentContainer.appendChild(eventInfo);

                if (item.capacity && item.progress !== undefined) {
                    const progressInfo = document.createElement('div');
                    progressInfo.className = 'event-info';
                    progressInfo.style.marginTop = '5px';
                    progressInfo.innerHTML = `<i class="fas fa-users"></i> ${item.capacity}`;
                    contentContainer.appendChild(progressInfo);

                    const progressContainer = document.createElement('div');
                    progressContainer.className = 'progress-bar-container';

                    const progressFill = document.createElement('div');
                    progressFill.className = 'progress-bar-fill';
                    progressFill.style.width = `${item.progress}%`;

                    progressContainer.appendChild(progressFill);
                    contentContainer.appendChild(progressContainer);
                }
            } else if (category === 'products') {
                const productMeta = document.createElement('div');
                productMeta.className = 'recommendation-meta';

                const categoryTag = document.createElement('div');
                categoryTag.className = 'recommendation-category';
                categoryTag.textContent = item.category[0].charAt(0).toUpperCase() + item.category[0].slice(1);

                const priceTag = document.createElement('div');
                priceTag.className = 'recommendation-date';
                priceTag.innerHTML = `<i class="fas fa-tag"></i> R$ ${item.price.toFixed(2)}`;

                productMeta.appendChild(categoryTag);
                productMeta.appendChild(priceTag);
                contentContainer.appendChild(productMeta);
            } else if (category === 'content') {
                const contentMeta = document.createElement('div');
                contentMeta.className = 'recommendation-meta';

                const categoryTag = document.createElement('div');
                categoryTag.className = 'recommendation-category';
                const mainCategory = item.category.find(cat =>
                    ['video', 'podcast', 'article', 'tutorial'].includes(cat));
                categoryTag.textContent = mainCategory.charAt(0).toUpperCase() + mainCategory.slice(1);

                const durationTag = document.createElement('div');
                durationTag.className = 'recommendation-date';
                durationTag.innerHTML = `<i class="fas fa-clock"></i> ${item.duration}`;

                contentMeta.appendChild(categoryTag);
                contentMeta.appendChild(durationTag);
                contentContainer.appendChild(contentMeta);
            }

            // Botões de ação
            const actionsContainer = document.createElement('div');
            actionsContainer.className = 'recommendation-actions';

            const mainButton = document.createElement('button');
            mainButton.className = 'btn btn-primary';

            if (category === 'events') {
                mainButton.innerHTML = `<i class="fas fa-ticket-alt"></i> ${item.date.includes('2025') ? 'Pré-registro' : 'Ingressos'}`;
            } else if (category === 'experiences') {
                mainButton.innerHTML = `<i class="fas fa-star"></i> ${item.date.includes('Agende') ? 'Reservar' : 'Participar'}`;
            } else if (category === 'products') {
                mainButton.innerHTML = `<i class="fas fa-shopping-cart"></i> Comprar`;
            } else if (category === 'content') {
                if (item.category.includes('video')) {
                    mainButton.innerHTML = `<i class="fas fa-play"></i> Assistir`;
                } else if (item.category.includes('podcast')) {
                    mainButton.innerHTML = `<i class="fas fa-headphones"></i> Ouvir`;
                } else if (item.category.includes('article')) {
                    mainButton.innerHTML = `<i class="fas fa-book-open"></i> Ler`;
                } else {
                    mainButton.innerHTML = `<i class="fas fa-eye"></i> Ver`;
                }
            }

            actionsContainer.appendChild(mainButton);
            contentContainer.appendChild(actionsContainer);

            card.appendChild(contentContainer);
        }

        // Adicionar card à grade
        gridContainer.appendChild(card);
    }); // fecha o forEach
} // fecha o for...of

            actionsContainer.appendChild(mainButton);
            
            // Botões secundários
            const likeButton = document.createElement('button');
            likeButton.className = 'btn-icon';
            likeButton.innerHTML = `<i class="fas fa-heart"></i>`;
            actionsContainer.appendChild(likeButton);
            
            const shareButton = document.createElement('button');
            shareButton.className = 'btn-icon';
            shareButton.innerHTML = `<i class="fas fa-share-alt"></i>`;
            actionsContainer.appendChild(shareButton);
            
            contentContainer.appendChild(actionsContainer);
        card.appendChild(contentContainer);
        
        // Adicionar card ao grid
        gridContainer.appendChild(card);
    }
; // Correctly closed forEach loop

// Se não houver recomendações
if (items.length === 0) {
    const emptyState = document.createElement('div');
    emptyState.className = 'empty-state';
    emptyState.innerHTML = `
        <div class="empty-state-icon">
            <i class="fas fa-search"></i>
        </div>
        <div class="empty-state-title">Nenhuma recomendação encontrada</div>
        <div class="empty-state-text">
            Não encontramos recomendações nesta categoria com base no seu perfil. 
            Continue interagindo conosco para recebermos mais informações sobre suas preferências.
        </div>
    `;
    gridContainer.appendChild(emptyState);
}


// Modificar a função submitForm para gerar recomendações

    // Salvar dados (simulação)
    // Modificar a função submitForm para gerar recomendações

    // Salvar dados (simulação)
    localStorage.setItem('furiax_fan_data', JSON.stringify(formData));
    
    // Adicionar recompensas (simulação)
    addUserRewards();
    
    // Gerar recomendações personalizadas
    const recommendations = generateRecommendations();
    
    // Mostrar tela final
    document.querySelectorAll('.form-step').forEach(el => {
        el.style.display = 'none';
    });
    document.getElementById('complete-content').style.display = 'block';
    
    // Adicionar recomendações à tela final
    addRecommendationsToCompletionScreen(recommendations);
    
    // Mostrar notificação
    showNotification('Concluído!', 'Seu perfil foi atualizado com sucesso', 'success');
    
    // Mostrar dica sobre as recomendações
    setTimeout(() => {
        showNotification('Recomendações Personalizadas', 'Com base no seu perfil, preparamos sugestões personalizadas para você. Confira abaixo!', 'info');
    }, 3500);

    

// Adicionar funções para animação e interações das recomendações
document.addEventListener('DOMContentLoaded', function() {
    // Configurar navegação por abas e outras funções
    setupStarRating();
    setupInputMasks();
    
    // Adicionar evento para abas de recomendações (delegação de eventos)
    document.addEventListener('click', function(event) {
        if (event.target.closest('.tab-item')) {
            const tab = event.target.closest('.tab-item');
            const tabId = tab.getAttribute('data-tab');
            
            // Remover classe ativa de todas as abas no mesmo container
            const tabsContainer = tab.closest('.tabs-container');
            tabsContainer.querySelectorAll('.tab-item').forEach(t => {
                t.classList.remove('active');
            });
            
            // Adicionar classe ativa à aba clicada
            tab.classList.add('active');
            
            // Esconder todos os conteúdos de abas no mesmo container
            tabsContainer.querySelectorAll('.rec-tab-content').forEach(content => {
                content.style.display = 'none';
            });
            
            // Mostrar conteúdo da aba selecionada
            const tabContent = document.getElementById(`${tabId}-content`);
            if (tabContent) {
                tabContent.style.display = 'block';
                
                // Animar entrada dos cards
                animateRecommendationCards(tabContent);
            }
        }
    });
});

// Animação para cards de recomendação
function animateRecommendationCards(tabContent) {
        const cards = tabContent.querySelectorAll('.recommendation-card');
        cards.forEach((card, index) => {
            // Define a transição antes de aplicar transformações
            card.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';

            setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'none';
            }, index * 100);
        });
    }

    </script>
</body>
</html>